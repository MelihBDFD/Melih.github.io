<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ To-Do PRO - G√∂rev Y√∂neticisi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .view-toggle-container {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 10px;
        }

        .view-toggle-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .view-toggle-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .view-toggle-btn.active {
            background: rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 255, 255, 0.6);
        }

        .header h1 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        /* Main Content */
        .main-content {
            padding: 30px;
        }

        /* Add Task Section */
        .add-task-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 2px solid #f0f0f0;
        }

        .enhanced-task-form {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 2px solid #f0f0f0;
        }

        .form-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr auto;
            gap: 15px;
            align-items: end;
        }

        .priority-select,
        .category-select {
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
            min-height: 50px;
        }

        .due-date-input {
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
            min-height: 50px;
        }

        .due-date-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .task-options {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }

        .checkbox-container input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .recurring-options {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            align-items: center;
        }

        .recurring-select,
        .recurring-input {
            padding: 8px 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }

        .recurring-select:focus,
        .recurring-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .task-form {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 15px;
            align-items: end;
        }

        .task-input {
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
            min-height: 50px;
        }

        .task-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .add-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 50px;
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        /* Filters */
        .filters {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: transparent;
            color: #667eea;
            border-radius: 25px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: #667eea;
            color: white;
        }

        /* Tasks List */
        .tasks-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 2px solid #f0f0f0;
        }

        .tasks-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tasks-title {
            font-size: 20px;
            color: #2c3e50;
            font-weight: 600;
        }

        .task-stats {
            display: flex;
            gap: 15px;
            font-size: 14px;
        }

        .stat {
            background: #f8f9fa;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: 500;
        }

        .stat.total { background: #e3f2fd; color: #1976d2; }
        .stat.completed { background: #e8f5e8; color: #388e3c; }
        .stat.pending { background: #fff3e0; color: #f57c00; }
        /* Achievements Section */
        .achievements-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 2px solid #f0f0f0;
        }

        .achievements-title {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 20px;
            text-align: center;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .achievement-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .achievement-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .achievement-item.unlocked {
            background: linear-gradient(135deg, #fff9c4, #fff59d);
            border-color: #ffeb3b;
        }

        .achievement-item.locked {
            background: #f5f5f5;
            border-color: #bdbdbd;
            opacity: 0.7;
        }

        .achievement-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .achievement-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .achievement-description {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }

        .achievement-progress {
            background: #e0e0e0;
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .achievement-progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            transition: width 0.5s ease;
        }

        .achievement-status {
            font-size: 11px;
            font-weight: 600;
        }

        .achievement-status.unlocked {
            color: #388e3c;
        }

        .achievement-status.locked {
            color: #757575;
        }

        /* Task Items */
        .task-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            margin-bottom: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
        }

        .task-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-color: #667eea;
        }

        .task-checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .task-content {
            flex: 1;
        }

        .task-text {
            font-size: 16px;
            line-height: 1.5;
            color: #2c3e50;
        }

        .task-completed .task-text {
            text-decoration: line-through;
            color: #888;
        }

        .task-meta {
            display: flex;
            gap: 10px;
            margin-top: 8px;
            font-size: 12px;
            flex-wrap: wrap;
        }

        .priority-badge {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
        }

        .priority-high { background: #ffebee; color: #c62828; }
        .priority-medium { background: #fff3e0; color: #ef6c00; }
        .priority-low { background: #e8f5e8; color: #2e7d32; }

        .category-badge {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            background: #e3f2fd;
            color: #1976d2;
        }

        .task-actions {
            display: flex;
            gap: 10px;
        }

        .task-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .edit-btn {
            background: #2196f3;
            color: white;
        }

        .edit-btn:hover {
            background: #1976d2;
        }

        .delete-btn {
            background: #f44336;
            color: white;
        }

        .delete-btn:hover {
            background: #d32f2f;
        }

        .time-btn {
            background: linear-gradient(135deg, #ff9800, #f57c00);
            color: white;
        }

        .time-btn.tracking {
            background: linear-gradient(135deg, #4caf50, #388e3c);
            animation: pulse 1s infinite;
        }

        .time-btn.tracking:hover {
            background: linear-gradient(135deg, #388e3c, #2e7d32);
        }

        /* Categories Section */
        .categories-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 2px solid #f0f0f0;
        }

        .categories-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .categories-title {
            font-size: 20px;
            color: #2c3e50;
            font-weight: 600;
        }

        .add-category-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .add-category-btn:hover {
            background: #388e3c;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .category-item {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .category-item:hover {
            background: #e0e0e0;
            transform: translateY(-2px);
        }

        .category-item.active {
            background: #667eea;
            color: white;
            border-color: #5a6fd8;
        }

        .category-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin: 0 auto 10px;
        }

        .category-name {
            font-size: 14px;
            font-weight: 500;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                border-radius: 15px;
            }

            .header h1 {
                font-size: 28px;
            }

            .header p {
                font-size: 16px;
            }

            .main-content {
                padding: 20px;
            }

            .task-form {
                grid-template-columns: 1fr;
            }

            .task-input,
            .add-btn {
                min-height: 48px;
            }

            .filters {
                gap: 8px;
            }

            .filter-btn {
                padding: 8px 16px;
                font-size: 13px;
            }

            .task-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .task-actions {
                align-self: stretch;
            }

            .categories-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 10px;
            }
        }

        /* Enhanced Mobile Styles */
        @media (max-width: 768px) {
            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 24px;
                margin-bottom: 8px;
            }

            .header p {
                font-size: 14px;
            }

            .main-content {
                padding: 15px;
            }

            /* Add Task Section Mobile */
            .add-task-section {
                padding: 20px;
                margin-bottom: 20px;
            }

            .add-task-section h3 {
                font-size: 18px;
                margin-bottom: 15px;
            }

            .enhanced-task-form {
                padding: 20px;
            }

            .form-row {
                display: flex;
                flex-direction: column;
                gap: 12px;
            }

            .task-input,
            .priority-select,
            .category-select,
            .due-date-input {
                padding: 16px;
                font-size: 16px; /* Prevents zoom on iOS */
                border-radius: 12px;
                min-height: 52px;
            }

            .task-options {
                padding: 12px;
            }

            .checkbox-container {
                font-size: 13px;
            }

            .recurring-options {
                flex-direction: column;
                gap: 8px;
                align-items: stretch;
            }

            .recurring-select,
            .recurring-input {
                padding: 10px;
                font-size: 14px;
            }

            .add-btn {
                padding: 16px 24px;
                font-size: 16px;
                font-weight: 700;
                border-radius: 12px;
                min-height: 52px;
                background: linear-gradient(135deg, #667eea, #764ba2);
                box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            }

            .add-btn:active {
                transform: scale(0.98);
            }

            /* Categories Mobile */
            .categories-section {
                padding: 20px;
                margin-bottom: 20px;
            }

            .categories-header {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }

            .categories-title {
                font-size: 18px;
                text-align: center;
            }

            .add-category-btn {
                padding: 12px 20px;
                font-size: 14px;
                min-height: 48px;
            }

            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }

            .category-item {
                padding: 16px 12px;
                min-height: 60px;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            .category-color {
                width: 16px;
                height: 16px;
                margin-bottom: 8px;
            }

            .category-name {
                font-size: 12px;
                text-align: center;
                line-height: 1.3;
            }

            .achievements-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 12px;
            }

            .achievement-item {
                padding: 16px 12px;
            }

            .achievement-icon {
                font-size: 28px;
            }

            .achievement-name {
                font-size: 14px;
            }

            .achievement-description {
                font-size: 11px;
            }

            .achievement-name {
                font-size: 14px;
            }

            .achievement-description {
                font-size: 11px;
            }

            .category-item {
                padding: 16px 12px;
                min-height: 60px;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            .category-color {
                width: 16px;
                height: 16px;
                margin-bottom: 8px;
            }

            .category-name {
                font-size: 12px;
                text-align: center;
                line-height: 1.3;
            }

            /* Filters Mobile */
            .filters {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
                margin-bottom: 15px;
            }

            .filter-btn {
                padding: 12px 8px;
                font-size: 12px;
                min-height: 44px;
                border-radius: 20px;
            }

            /* Tasks Mobile */
            .tasks-container {
                padding: 20px;
            }

            .tasks-header {
                flex-direction: column;
                gap: 12px;
                align-items: stretch;
            }

            .tasks-title {
                font-size: 18px;
                text-align: center;
            }

            .task-stats {
                justify-content: space-around;
                gap: 8px;
            }

            .stat {
                padding: 6px 10px;
                font-size: 12px;
                text-align: center;
                flex: 1;
            }

            /* Task Items Mobile */
            .task-item {
                padding: 16px;
                margin-bottom: 12px;
                border-radius: 12px;
                position: relative;
            }

            .task-checkbox {
                width: 28px;
                height: 28px;
                flex-shrink: 0;
            }

            .task-content {
                flex: 1;
                min-width: 0;
            }

            .task-text {
                font-size: 15px;
                line-height: 1.4;
            }

            .task-meta {
                margin-top: 6px;
                gap: 6px;
            }

            .priority-badge,
            .category-badge {
                padding: 2px 6px;
                font-size: 10px;
                border-radius: 8px;
            }

            .task-actions {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 8px;
                margin-top: 12px;
            }

            .task-btn {
                padding: 10px 8px;
                font-size: 12px;
                min-height: 40px;
                border-radius: 8px;
            }

            /* AI Assistant Mobile */
            .ai-assistant {
                bottom: 15px;
                right: 15px;
            }

            .ai-toggle {
                padding: 12px 16px;
                font-size: 13px;
            }

            .ai-chat {
                width: calc(100vw - 30px);
                height: 70vh;
                max-height: 400px;
                right: -15px;
            }

            .ai-chat-messages {
                padding: 12px;
            }

            .ai-message {
                margin-bottom: 10px;
                padding: 6px;
            }

            .ai-message-text {
                font-size: 12px;
            }

            .ai-chat-input-area {
                padding: 12px;
                gap: 6px;
            }

            .ai-input {
                padding: 8px 10px;
                font-size: 12px;
            }

            .ai-send-btn {
                width: 36px;
                height: 36px;
                font-size: 12px;
            }

            /* Help Button Mobile */
            .help-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
                top: 15px;
                right: 15px;
            }

            .help-content {
                padding: 20px;
                max-width: 90vw;
                width: 90vw;
            }

            .help-title {
                font-size: 20px;
            }

            .help-section h4 {
                font-size: 16px;
            }

            .help-section p {
                font-size: 14px;
            }
        }

        /* Extra Small Mobile */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 22px;
            }

            .header p {
                font-size: 13px;
            }

            .main-content {
                padding: 12px;
            }

            .add-task-section,
            .categories-section,
            .tasks-container {
                padding: 16px;
            }

            .task-input {
                font-size: 16px; /* Prevents zoom on iOS */
            }

            .categories-grid {
                grid-template-columns: 1fr 1fr;
                gap: 8px;
            }

            .category-item {
                min-height: 56px;
            }

            .filters {
                grid-template-columns: 1fr 1fr;
            }

            .filter-btn {
                min-height: 42px;
                font-size: 11px;
            }

            .task-actions {
                grid-template-columns: 1fr 1fr;
            }

            .task-btn {
                min-height: 38px;
            }
        }

        /* Touch Device Optimizations */
        @media (hover: none) and (pointer: coarse) {
            /* Larger touch targets for touch devices */
            .task-checkbox {
                width: 32px;
                height: 32px;
            }

            .task-btn {
                min-height: 48px;
                min-width: 48px;
            }

            .filter-btn {
                min-height: 48px;
            }

            .add-btn,
            .add-category-btn {
                min-height: 56px;
            }

            /* Remove hover effects on touch devices */
            .task-item:hover,
            .category-item:hover,
            .filter-btn:hover,
            .add-btn:hover,
            .task-btn:hover {
                transform: none !important;
                box-shadow: none !important;
            }

            /* Add active states for touch feedback */
            .task-item:active,
            .category-item:active,
            .filter-btn:active,
            .add-btn:active,
            .task-btn:active {
                transform: scale(0.98);
                opacity: 0.9;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* AI Assistant Styles */
        .ai-assistant {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .ai-toggle {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: pulse 2s infinite;
        }

        .ai-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }

        .ai-chat {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 320px;
            height: 450px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            display: none;
            flex-direction: column;
            opacity: 0;
            transform: translateY(20px) scale(0.9);
            transition: all 0.3s ease;
        }

        .ai-chat.show {
            display: flex;
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .ai-chat-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 20px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-chat-header h3 {
            margin: 0;
            font-size: 16px;
        }

        .ai-chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
        }

        .ai-chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .ai-message {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
            padding: 8px;
            border-radius: 12px;
            animation: slideInLeft 0.3s ease-out;
        }

        .ai-message.ai-welcome {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .ai-message.user {
            background: #e3f2fd;
            flex-direction: row-reverse;
        }

        .ai-message-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .ai-message.user .ai-message-avatar {
            background: #2196f3;
        }

        .ai-message-content {
            flex: 1;
        }

        .ai-message-text {
            margin-bottom: 4px;
            line-height: 1.4;
            font-size: 13px;
        }

        .ai-message-time {
            font-size: 10px;
            opacity: 0.7;
        }

        .ai-chat-input-area {
            padding: 15px;
            border-top: 1px solid #e1e8ed;
            display: flex;
            gap: 8px;
            background: white;
            border-radius: 0 0 20px 20px;
        }

        .ai-input {
            flex: 1;
            padding: 10px 12px;
            border: 2px solid #e1e8ed;
            border-radius: 20px;
            font-size: 13px;
            outline: none;
            transition: border-color 0.3s;
        }

        .ai-input:focus {
            border-color: #667eea;
        }

        .ai-send-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .ai-send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        /* Help System */
        .help-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #4caf50, #45a049);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3);
            transition: all 0.3s;
            z-index: 999;
        }

        .help-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(76, 175, 80, 0.4);
        }

        .help-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .help-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .help-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .help-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .help-title {
            font-size: 24px;
            color: #2c3e50;
            margin: 0;
        }

        .close-help {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        .help-section {
            margin-bottom: 25px;
        }

        .help-section h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .help-section p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .help-tip {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
            margin: 10px 0;
        }

        /* Enhanced Animations */
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes bounceInUp {
            from, 60%, 75%, 90%, to {
                animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
            }
            from {
                opacity: 0;
                transform: translate3d(0, 3000px, 0) scaleY(3);
            }
            60% {
                opacity: 1;
                transform: translate3d(0, -20px, 0) scaleY(0.9);
            }
            75% {
                transform: translate3d(0, 10px, 0) scaleY(0.95);
            }
            90% {
                transform: translate3d(0, -5px, 0) scaleY(0.985);
            }
            to {
                opacity: 1;
                transform: translate3d(0, 0, 0);
            }
        }

        .slide-in-left {
            animation: slideInLeft 0.6s ease-out;
        }

        .bounce-in-up {
            animation: bounceInUp 1s ease-out;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Desktop Mode (Default) */
        .desktop-mode {
            max-width: 1000px !important;
            margin: 0 auto !important;
        }

        .desktop-mode .container {
            max-width: 1000px !important;
            border-radius: 20px !important;
        }

        .desktop-mode .form-row {
            grid-template-columns: 2fr 1fr 1fr auto !important;
        }

        .desktop-mode .categories-grid {
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)) !important;
        }

        .desktop-mode .filters {
            display: flex !important;
            flex-wrap: wrap !important;
            justify-content: center !important;
        }

        .desktop-mode .task-item {
            flex-direction: row !important;
            align-items: center !important;
        }

        .desktop-mode .task-actions {
            display: flex !important;
            margin-top: 0 !important;
        }

        /* Mobile Mode */
        .mobile-mode {
            max-width: 480px !important;
            margin: 0 auto !important;
        }

        .mobile-mode .container {
            max-width: 100% !important;
            border-radius: 0 !important;
            margin: 0 !important;
            box-shadow: none !important;
        }

        .mobile-mode .header {
            padding: 20px !important;
            border-radius: 0 !important;
        }

        .mobile-mode .header h1 {
            font-size: 24px !important;
        }

        .mobile-mode .header p {
            font-size: 14px !important;
        }

        .mobile-mode .main-content {
            padding: 15px !important;
        }

        .mobile-mode .add-task-section {
            padding: 20px !important;
            margin-bottom: 15px !important;
        }

        .mobile-mode .form-row {
            display: flex !important;
            flex-direction: column !important;
            gap: 12px !important;
        }

        .mobile-mode .categories-section {
            padding: 20px !important;
            margin-bottom: 15px !important;
        }

        .mobile-mode .categories-header {
            flex-direction: column !important;
            gap: 15px !important;
            align-items: stretch !important;
        }

        .mobile-mode .categories-grid {
            grid-template-columns: repeat(2, 1fr) !important;
        }

        .mobile-mode .filters {
            display: grid !important;
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 8px !important;
        }

        .mobile-mode .tasks-container {
            padding: 20px !important;
        }

        .mobile-mode .tasks-header {
            flex-direction: column !important;
            gap: 12px !important;
            align-items: stretch !important;
        }

        .mobile-mode .task-item {
            flex-direction: column !important;
            align-items: flex-start !important;
            gap: 10px !important;
        }

        .mobile-mode .task-actions {
            display: grid !important;
            grid-template-columns: 1fr 1fr !important;
            gap: 8px !important;
            margin-top: 12px !important;
        }

        .mobile-mode .ai-assistant {
            bottom: 15px !important;
            right: 15px !important;
        }

        .mobile-mode .ai-chat {
            width: calc(100vw - 30px) !important;
            height: 70vh !important;
            max-height: 400px !important;
            right: -15px !important;
        }

        .mobile-mode .help-btn {
            top: 15px !important;
            right: 15px !important;
        }

        /* Toast Messages */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #333;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üöÄ To-Do PRO</h1>
            <p>Profesyonel G√∂rev Y√∂neticisi</p>
            <div class="view-toggle-container">
                <button class="view-toggle-btn" onclick="setViewMode('desktop')" id="desktop-btn" title="Bilgisayar G√∂r√ºn√ºm√º">
                    üíª
                </button>
                <button class="view-toggle-btn" onclick="setViewMode('mobile')" id="mobile-btn" title="Telefon G√∂r√ºn√ºm√º">
                    üì±
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Add Task Section -->
            <div class="add-task-section fade-in">
                <h3>‚ú® Yeni G√∂rev Ekle</h3>
                <div class="enhanced-task-form">
                    <div class="form-row">
                        <input type="text" id="task-input" class="task-input" placeholder="G√∂rev a√ßƒ±klamasƒ±nƒ± yazƒ±n...">
                        <select id="priority-select" class="priority-select">
                            <option value="low">üü¢ D√º≈ü√ºk √ñncelik</option>
                            <option value="medium" selected>üü° Orta √ñncelik</option>
                            <option value="high">üî¥ Y√ºksek √ñncelik</option>
                        </select>
                        <select id="category-select" class="category-select">
                            <option value="">üìÇ Kategori Se√ßin</option>
                        </select>
                        <input type="datetime-local" id="due-date-input" class="due-date-input" title="Biti≈ü tarihi (opsiyonel)">
                        <button onclick="addTask()" class="add-btn">‚ûï EKLE</button>
                    </div>
                    <div class="task-options">
                        <label class="checkbox-container">
                            <input type="checkbox" id="recurring-task" onchange="toggleRecurringOptions()">
                            <span class="checkmark"></span>
                            Tekrarlayan g√∂rev
                        </label>
                        <div id="recurring-options" style="display: none;">
                            <select id="recurring-type" class="recurring-select">
                                <option value="daily">üìÖ G√ºnl√ºk</option>
                                <option value="weekly">üìÜ Haftalƒ±k</option>
                                <option value="monthly">üìÖ Aylƒ±k</option>
                            </select>
                            <input type="number" id="recurring-count" class="recurring-input" placeholder="Ka√ß kez?" min="1" max="52">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Categories Section -->
            <div class="categories-section fade-in">
                <div class="categories-header">
                    <h3 class="categories-title">üìÇ Kategoriler</h3>
                    <button onclick="showAddCategoryDialog()" class="add-category-btn">+ Kategori Ekle</button>
                </div>
                <div class="categories-grid" id="categories-container">
                    <!-- Categories will be loaded here -->
                </div>
            </div>

            <!-- Filters -->
            <div class="filters fade-in">
                <button class="filter-btn active" onclick="setFilter('all')">T√ºm√º</button>
                <button class="filter-btn" onclick="setFilter('pending')">Bekleyen</button>
                <button class="filter-btn" onclick="setFilter('completed')">Tamamlanan</button>
                <button class="filter-btn" onclick="setFilter('high')">Y√ºksek √ñncelik</button>
                <button class="filter-btn" onclick="setFilter('medium')">Orta √ñncelik</button>
                <button class="filter-btn" onclick="setFilter('low')">D√º≈ü√ºk √ñncelik</button>
            </div>

            <!-- Tasks Section -->
            <div class="tasks-container fade-in">
                <div class="tasks-header">
                    <div class="tasks-title">üìã G√∂revlerim</div>
                    <div class="task-stats">
                        <span class="stat total">Toplam: <span id="total-count">0</span></span>
                        <span class="stat completed">‚úÖ <span id="completed-count">0</span></span>
                        <span class="stat pending">‚è≥ <span id="pending-count">0</span></span>
                        <span class="stat time-spent">‚è±Ô∏è <span id="total-time">0dk</span></span>
                    </div>
                </div>
                <div id="tasks-list">
                    <!-- Tasks will be loaded here -->
                </div>
            </div>

            <!-- Achievements Section -->
            <div class="achievements-section fade-in">
                <h3 class="achievements-title">üèÜ Ba≈üarƒ±mlar</h3>
                <div class="achievements-grid" id="achievements-container">
                    <!-- Achievements will be loaded here -->
                </div>
            </div>
        </div>
        </div>

        <!-- AI Assistant -->
        <div class="ai-assistant" id="ai-assistant">
            <button class="ai-toggle" onclick="toggleAIAssistant()" id="ai-toggle-btn">
                <span class="ai-icon">ü§ñ</span>
                <span class="ai-text">AI Asistan</span>
            </button>

            <div class="ai-chat" id="ai-chat">
                <div class="ai-chat-header">
                    <h3>ü§ñ AI Asistan</h3>
                    <button class="ai-chat-close" onclick="toggleAIAssistant()">‚úï</button>
                </div>
                <div class="ai-chat-messages" id="ai-chat-messages">
                    <div class="ai-message ai-welcome">
                        <div class="ai-message-avatar">ü§ñ</div>
                        <div class="ai-message-content">
                            <div class="ai-message-text">Merhaba! Ben To-Do PRO AI asistanƒ±yƒ±m. G√∂rev y√∂netimi, kategoriler ve uygulama hakkƒ±nda size yardƒ±mcƒ± olabilirim. Ne sormak istiyorsunuz?</div>
                            <div class="ai-message-time">≈ûimdi</div>
                        </div>
                    </div>
                </div>
                <div class="ai-chat-input-area">
                    <input type="text" id="ai-input" class="ai-input" placeholder="AI asistana sorun sorun..." onkeypress="handleAIKeyPress(event)">
                    <button class="ai-send-btn" onclick="sendAIMessage()">G√∂nder</button>
                </div>
            </div>
        </div>

        <!-- Help System -->
        <button class="help-btn" onclick="showHelpModal()" title="Yardƒ±m">?</button>

        <!-- Help Modal -->
        <div class="help-modal" id="help-modal">
            <div class="help-content">
                <div class="help-header">
                    <h2 class="help-title">üìö To-Do PRO Yardƒ±m Rehberi</h2>
                    <button class="close-help" onclick="hideHelpModal()">‚úï</button>
                </div>

                <div class="help-section">
                    <h4>üöÄ G√∂rev Ekleme</h4>
                    <p>‚Ä¢ √úst kƒ±sƒ±mdaki input alanƒ±na g√∂rev metnini yazƒ±n</p>
                    <p>‚Ä¢ √ñncelik seviyesi se√ßin (D√º≈ü√ºk/Orta/Y√ºksek)</p>
                    <p>‚Ä¢ ƒ∞steƒüe baƒülƒ± olarak kategori se√ßin</p>
                    <p>‚Ä¢ "EKLE" butonuna basƒ±n veya Enter'a basƒ±n</p>
                    <div class="help-tip">
                        üí° ƒ∞pucu: Hƒ±zlƒ± g√∂rev eklemek i√ßin sadece metin yazƒ±p Enter'a basƒ±n!
                    </div>
                </div>

                <div class="help-section">
                    <h4>‚úÖ G√∂rev Y√∂netimi</h4>
                    <p>‚Ä¢ Checkbox'a tƒ±klayarak g√∂revleri tamamlayƒ±n</p>
                    <p>‚Ä¢ ‚úèÔ∏è butonu ile g√∂revleri d√ºzenleyin</p>
                    <p>‚Ä¢ üóëÔ∏è butonu ile g√∂revleri silin</p>
                    <p>‚Ä¢ √ñncelik seviyesine g√∂re otomatik renk kodlamasƒ±</p>
                </div>

                <div class="help-section">
                    <h4>üìÇ Kategoriler</h4>
                    <p>‚Ä¢ "+" butonuna tƒ±klayarak yeni kategori ekleyin</p>
                    <p>‚Ä¢ Kategoriye tƒ±klayarak o kategorideki g√∂revleri filtreleyin</p>
                    <p>‚Ä¢ Her kategori farklƒ± renkle g√∂sterilir</p>
                </div>

                <div class="help-section">
                    <h4>üîç Filtreleme</h4>
                    <p>‚Ä¢ "T√ºm√º" - T√ºm g√∂revleri g√∂sterir</p>
                    <p>‚Ä¢ "Bekleyen" - Tamamlanmamƒ±≈ü g√∂revler</p>
                    <p>‚Ä¢ "Tamamlanan" - Tamamlanmƒ±≈ü g√∂revler</p>
                    <p>‚Ä¢ √ñncelik butonlarƒ± ile √∂ncelik seviyesine g√∂re filtreleme</p>
                </div>

                <div class="help-section">
                    <h4>üì± Mobil Kullanƒ±m</h4>
                    <p>‚Ä¢ T√ºm butonlar dokunmatik kullanƒ±m i√ßin optimize edildi</p>
                    <p>‚Ä¢ Responsive tasarƒ±m t√ºm ekran boyutlarƒ±nda √ßalƒ±≈üƒ±r</p>
                    <p>‚Ä¢ Touch-friendly buton boyutlarƒ±</p>
                </div>

                <div class="help-section">
                    <h4>üíæ Veri Saklama</h4>
                    <p>‚Ä¢ T√ºm veriler tarayƒ±cƒ±da yerel olarak saklanƒ±r</p>
                    <p>‚Ä¢ ƒ∞nternet baƒülantƒ±sƒ± olmadan da √ßalƒ±≈üƒ±r</p>
                    <p>‚Ä¢ Veriler otomatik olarak kaydedilir</p>
                </div>
            </div>
        </div>

        <!-- Toast Container -->
        <div id="toast-container"></div>

    <script>
        // Veri y√∂netimi
        let tasks = [];
        let categories = [];
        let achievements = [];
        let currentFilter = 'all';

        // Ba≈üarƒ±mlarƒ± y√ºkle
        function loadAchievements() {
            try {
                const saved = localStorage.getItem('todo_pro_achievements');
                if (saved) {
                    achievements = JSON.parse(saved);
                } else {
                    // Varsayƒ±lan ba≈üarƒ±mlar
                    achievements = [
                        {
                            id: 'first_task',
                            name: 'ƒ∞lk G√∂rev',
                            description: 'ƒ∞lk g√∂revi tamamla',
                            icon: 'üéØ',
                            requirement: 1,
                            current: 0,
                            unlocked: false,
                            category: 'baslangic'
                        },
                        {
                            id: 'task_master',
                            name: 'G√∂rev Ustasƒ±',
                            description: '10 g√∂revi tamamla',
                            icon: 'üèÜ',
                            requirement: 10,
                            current: 0,
                            unlocked: false,
                            category: 'tamamlama'
                        },
                        {
                            id: 'time_tracker',
                            name: 'Zaman Takip√ßisi',
                            description: '1 saat zaman takip et',
                            icon: '‚è±Ô∏è',
                            requirement: 60,
                            current: 0,
                            unlocked: false,
                            category: 'zaman'
                        },
                        {
                            id: 'category_king',
                            name: 'Kategori Kralƒ±',
                            description: '5 kategori olu≈ütur',
                            icon: 'üìÇ',
                            requirement: 5,
                            current: 0,
                            unlocked: false,
                            category: 'kategoriler'
                        },
                        {
                            id: 'perfectionist',
                            name: 'M√ºkemmeliyet√ßi',
                            description: 'Y√ºksek √∂ncelikli 5 g√∂revi tamamla',
                            icon: 'üíé',
                            requirement: 5,
                            current: 0,
                            unlocked: false,
                            category: 'oncelik'
                        },
                        {
                            id: 'streak_master',
                            name: '√áizgi Ustasƒ±',
                            description: '3 g√ºn √ºst √ºste g√∂rev tamamla',
                            icon: 'üî•',
                            requirement: 3,
                            current: 0,
                            unlocked: false,
                            category: 'cizgi'
                        }
                    ];
                    saveAchievements();
                }
            } catch (e) {
                console.error('Ba≈üarƒ±mlar y√ºklenemedi:', e);
                achievements = [];
            }
        }

        // Ba≈üarƒ±mlarƒ± kaydet
        function saveAchievements() {
            try {
                localStorage.setItem('todo_pro_achievements', JSON.stringify(achievements));
            } catch (e) {
                console.error('Ba≈üarƒ±mlar kaydedilemedi:', e);
            }
        }

        // Ba≈üarƒ±mlarƒ± g√∂ster
        function renderAchievements() {
            const container = document.getElementById('achievements-container');
            container.innerHTML = '';

            achievements.forEach(achievement => {
                const achievementElement = document.createElement('div');
                achievementElement.className = `achievement-item ${achievement.unlocked ? 'unlocked' : 'locked'}`;

                const progressPercent = Math.min((achievement.current / achievement.requirement) * 100, 100);

                achievementElement.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-description">${achievement.description}</div>
                    <div class="achievement-progress">
                        <div class="achievement-progress-bar" style="width: ${progressPercent}%"></div>
                    </div>
                    <div class="achievement-status ${achievement.unlocked ? 'unlocked' : 'locked'}">
                        ${achievement.unlocked ? '‚úÖ A√ßƒ±ldƒ±!' : `${achievement.current}/${achievement.requirement}`}
                    </div>
                `;

                container.appendChild(achievementElement);
            });
        }

        // Ba≈üarƒ±m ilerlemesini g√ºncelle
        function updateAchievementProgress() {
            const completedTasks = tasks.filter(t => t.completed).length;
            const totalTime = tasks.reduce((sum, task) => sum + (task.timeSpent || 0), 0);
            const highPriorityCompleted = tasks.filter(t => t.completed && t.priority === 'high').length;
            const categoryCount = categories.length;

            // Ba≈üarƒ±m g√ºncellemeleri
            achievements.find(a => a.id === 'first_task').current = completedTasks > 0 ? 1 : 0;
            achievements.find(a => a.id === 'task_master').current = completedTasks;
            achievements.find(a => a.id === 'time_tracker').current = totalTime;
            achievements.find(a => a.id === 'category_king').current = categoryCount;
            achievements.find(a => a.id === 'perfectionist').current = highPriorityCompleted;

            // Ba≈üarƒ±m kilidini a√ß
            achievements.forEach(achievement => {
                if (!achievement.unlocked && achievement.current >= achievement.requirement) {
                    achievement.unlocked = true;
                    showToast(`üèÜ Yeni ba≈üarƒ±m: ${achievement.name}!`);
                }
            });

            saveAchievements();
            renderAchievements();
        }

        // Sayfa y√ºklendiƒüinde
        document.addEventListener('DOMContentLoaded', function() {
            loadTasks();
            loadCategories();
            loadAchievements();
            renderTasks();
            renderAchievements();
            updateStats();
            setupEventListeners();
            initializeViewMode();
        });

        // G√∂r√ºn√ºm modunu ba≈ülat
        function initializeViewMode() {
            // Varsayƒ±lan olarak desktop modunda ba≈üla
            setViewMode('desktop');
        }

        // G√∂r√ºn√ºm modunu deƒüi≈ütir
        function setViewMode(mode) {
            const body = document.body;

            // T√ºm mod sƒ±nƒ±flarƒ±nƒ± kaldƒ±r
            body.classList.remove('desktop-mode', 'mobile-mode');

            // Yeni modu uygula
            body.classList.add(`${mode}-mode`);

            // Aktif butonu g√ºncelle
            document.getElementById('desktop-btn').classList.remove('active');
            document.getElementById('mobile-btn').classList.remove('active');
            document.getElementById(`${mode}-btn`).classList.add('active');

            // Toast mesajƒ± g√∂ster
            const modeNames = {
                'desktop': 'üíª Bilgisayar',
                'mobile': 'üì± Telefon'
            };
            showToast(`${modeNames[mode]} g√∂r√ºn√ºm√º aktif!`);
        }

        // Event listeners
        function setupEventListeners() {
            const taskInput = document.getElementById('task-input');
            taskInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addTask();
                }
            });
        }

        // G√∂revleri y√ºkle
        function loadTasks() {
            try {
                const saved = localStorage.getItem('todo_pro_tasks');
                if (saved) {
                    tasks = JSON.parse(saved);
                }
            } catch (e) {
                console.error('G√∂revler y√ºklenemedi:', e);
                tasks = [];
            }
        }

        // G√∂revleri kaydet
        function saveTasks() {
            try {
                localStorage.setItem('todo_pro_tasks', JSON.stringify(tasks));
            } catch (e) {
                console.error('G√∂revler kaydedilemedi:', e);
            }
        }

        // Kategorileri y√ºkle
        function loadCategories() {
            try {
                const saved = localStorage.getItem('todo_pro_categories');
                if (saved) {
                    categories = JSON.parse(saved);
                } else {
                    // Varsayƒ±lan kategoriler
                    categories = [
                        { id: '1', name: 'ƒ∞≈ü', color: '#667eea' },
                        { id: '2', name: 'Ki≈üisel', color: '#4caf50' },
                        { id: '3', name: 'Alƒ±≈üveri≈ü', color: '#ff9800' },
                        { id: '4', name: 'Saƒülƒ±k', color: '#e91e63' }
                    ];
                    saveCategories();
                }
            } catch (e) {
                console.error('Kategoriler y√ºklenemedi:', e);
                categories = [];
            }
        }

        // Kategorileri kaydet
        function saveCategories() {
            try {
                localStorage.setItem('todo_pro_categories', JSON.stringify(categories));
            } catch (e) {
                console.error('Kategoriler kaydedilemedi:', e);
            }
        }

        // G√∂rev ekle
        function addTask() {
            const input = document.getElementById('task-input');
            const prioritySelect = document.getElementById('priority-select');
            const categorySelect = document.getElementById('category-select');
            const dueDateInput = document.getElementById('due-date-input');
            const recurringCheckbox = document.getElementById('recurring-task');

            const taskText = input.value.trim();
            const priority = prioritySelect.value;
            const categoryId = categorySelect.value;
            const dueDate = dueDateInput.value ? new Date(dueDateInput.value).toISOString() : null;
            const isRecurring = recurringCheckbox.checked;

            if (taskText) {
                const category = categories.find(c => c.id === categoryId);

                // Ana g√∂revi olu≈ütur
                const mainTask = {
                    id: Date.now().toString(),
                    text: taskText,
                    completed: false,
                    priority: priority,
                    categoryId: categoryId,
                    categoryName: category ? category.name : '',
                    categoryColor: category ? category.color : '',
                    dueDate: dueDate,
                    isRecurring: isRecurring,
                    recurringType: null,
                    recurringCount: 0,
                    created: new Date().toISOString(),
                    timeSpent: 0,
                    comments: []
                };

                tasks.unshift(mainTask);

                // Tekrarlayan g√∂revleri olu≈ütur
                if (isRecurring) {
                    const recurringType = document.getElementById('recurring-type').value;
                    const recurringCount = parseInt(document.getElementById('recurring-count').value) || 1;

                    createRecurringTasks(mainTask, recurringType, recurringCount);
                }

                saveTasks();
                renderTasks();
                updateStats();
                updateAchievementProgress();
                resetForm();

                showToast(`‚úÖ G√∂rev eklendi! ${isRecurring ? '(Tekrarlayan)' : ''}`);
            }
        }

        // Tekrarlayan g√∂revleri olu≈ütur
        function createRecurringTasks(baseTask, recurringType, count) {
            const baseDate = baseTask.dueDate ? new Date(baseTask.dueDate) : new Date();

            for (let i = 1; i <= count; i++) {
                const recurringTask = { ...baseTask };
                recurringTask.id = `${baseTask.id}_recurring_${i}`;
                recurringTask.text = `${baseTask.text} (${i}/${count})`;
                recurringTask.isRecurring = true;
                recurringTask.recurringType = recurringType;
                recurringTask.recurringCount = i;

                // Sonraki tarihi hesapla
                const nextDate = new Date(baseDate);
                switch (recurringType) {
                    case 'daily':
                        nextDate.setDate(nextDate.getDate() + i);
                        break;
                    case 'weekly':
                        nextDate.setDate(nextDate.getDate() + (i * 7));
                        break;
                    case 'monthly':
                        nextDate.setMonth(nextDate.getMonth() + i);
                        break;
                }
                recurringTask.dueDate = nextDate.toISOString();

                tasks.push(recurringTask);
            }
        }

        // Formu sƒ±fƒ±rla
        function resetForm() {
            document.getElementById('task-input').value = '';
            document.getElementById('priority-select').value = 'medium';
            document.getElementById('category-select').value = '';
            document.getElementById('due-date-input').value = '';
            document.getElementById('recurring-task').checked = false;
            toggleRecurringOptions();
        }

        // Tekrarlayan se√ßenekleri g√∂ster/gizle
        function toggleRecurringOptions() {
            const checkbox = document.getElementById('recurring-task');
            const options = document.getElementById('recurring-options');

            if (checkbox.checked) {
                options.style.display = 'flex';
            } else {
                options.style.display = 'none';
            }
        }

        // G√∂revleri g√∂ster
        function renderTasks() {
            const container = document.getElementById('tasks-list');
            const filteredTasks = getFilteredTasks();

            container.innerHTML = '';

            if (filteredTasks.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">Hen√ºz g√∂rev yok. Yeni g√∂rev eklemek i√ßin yukarƒ±yƒ± kullanƒ±n!</p>';
                return;
            }

            filteredTasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = `task-item fade-in ${task.completed ? 'task-completed' : ''}`;

                const priorityClass = `priority-${task.priority || 'medium'}`;

                taskElement.innerHTML = `
                    <input type="checkbox" class="task-checkbox" ${task.completed ? 'checked' : ''} onchange="toggleTask('${task.id}')">
                    <div class="task-content">
                        <div class="task-text">${task.text}</div>
                        <div class="task-meta">
                            <span class="priority-badge ${priorityClass}">${getPriorityText(task.priority)}</span>
                            ${task.categoryName ? `<span class="category-badge" style="background: ${task.categoryColor}">${task.categoryName}</span>` : ''}
                            ${task.dueDate ? `<span class="due-date-badge">${formatDate(task.dueDate)}</span>` : ''}
                            ${task.isRecurring ? `<span class="recurring-badge">üîÑ ${task.recurringType}</span>` : ''}
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="task-btn edit-btn" onclick="editTask('${task.id}')">‚úèÔ∏è</button>
                        <button class="task-btn time-btn ${task.isTracking ? 'tracking' : ''}" onclick="trackTime('${task.id}')" title="Zaman Takibi">
                            ${task.isTracking ? '‚èπÔ∏è' : '‚è±Ô∏è'}
                        </button>
                        <button class="task-btn delete-btn" onclick="deleteTask('${task.id}')">üóëÔ∏è</button>
                    </div>
                `;

                container.appendChild(taskElement);
            });
        }

        // Filtrelenmi≈ü g√∂revleri al
        function getFilteredTasks() {
            let filtered = [...tasks];

            switch (currentFilter) {
                case 'completed':
                    filtered = tasks.filter(task => task.completed);
                    break;
                case 'pending':
                    filtered = tasks.filter(task => !task.completed);
                    break;
                case 'high':
                    filtered = tasks.filter(task => task.priority === 'high');
                    break;
                case 'medium':
                    filtered = tasks.filter(task => task.priority === 'medium');
                    break;
                case 'low':
                    filtered = tasks.filter(task => task.priority === 'low');
                    break;
            }

            return filtered;
        }

        // Filtre ayarla
        function setFilter(filter) {
            currentFilter = filter;

            // Aktif butonu g√ºncelle
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            renderTasks();
        }

        // G√∂revi tamamla/tamamlanmamƒ±≈ü yap
        function toggleTask(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                saveTasks();
                renderTasks();
                updateStats();
                updateAchievementProgress();
                showToast(task.completed ? '‚úÖ G√∂rev tamamlandƒ±!' : '‚è≥ G√∂rev aktif!');
            }
        }

        // G√∂revi d√ºzenle
        function editTask(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (task) {
                const newText = prompt('G√∂revi d√ºzenleyin:', task.text);
                if (newText && newText.trim()) {
                    task.text = newText.trim();
                    saveTasks();
                    renderTasks();
                    showToast('‚úèÔ∏è G√∂rev g√ºncellendi!');
                }
            }
        }

        // G√∂revi sil
        function deleteTask(taskId) {
            if (confirm('Bu g√∂revi silmek istediƒüinizden emin misiniz?')) {
                tasks = tasks.filter(t => t.id !== taskId);
                saveTasks();
                renderTasks();
                updateStats();
                showToast('üóëÔ∏è G√∂rev silindi!');
            }
        }

        // ƒ∞statistikleri g√ºncelle
        function updateStats() {
            const totalCount = document.getElementById('total-count');
            const completedCount = document.getElementById('completed-count');
            const pendingCount = document.getElementById('pending-count');
            const totalTime = document.getElementById('total-time');

            totalCount.textContent = tasks.length;
            completedCount.textContent = tasks.filter(t => t.completed).length;
            pendingCount.textContent = tasks.filter(t => !t.completed).length;

            // Toplam zamanƒ± hesapla
            const totalMinutes = tasks.reduce((sum, task) => sum + (task.timeSpent || 0), 0);
            totalTime.textContent = totalMinutes > 0 ? `${Math.floor(totalMinutes / 60)}sa ${totalMinutes % 60}dk` : '0dk';
        }

        // Zaman takibi ba≈ülat/durdur
        function trackTime(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (!task) return;

            if (task.isTracking) {
                // Zamanƒ± durdur
                const now = Date.now();
                const elapsed = Math.floor((now - task.trackingStart) / 1000 / 60); // dakika cinsinden
                task.timeSpent = (task.timeSpent || 0) + elapsed;
                task.isTracking = false;
                task.trackingStart = null;

                showToast(`‚è±Ô∏è ${elapsed} dakika kaydedildi!`);
            } else {
                // Zamanƒ± ba≈ülat
                task.isTracking = true;
                task.trackingStart = Date.now();

                showToast('‚è±Ô∏è Zaman takibi ba≈üladƒ±!');
            }

            saveTasks();
            renderTasks();
            updateStats();
        }

        // √ñncelik metnini al
        function getPriorityText(priority) {
            const priorities = {
                'high': 'üî¥ Y√ºksek',
                'medium': 'üü° Orta',
                'low': 'üü¢ D√º≈ü√ºk'
            };
            return priorities[priority] || 'üü° Orta';
        }

        // Kategori adƒ±nƒ± al
        function getCategoryName(categoryId) {
            const category = categories.find(c => c.id === categoryId);
            return category ? category.name : '';
        }

        // Toast mesajƒ± g√∂ster
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;

            document.getElementById('toast-container').appendChild(toast);

            setTimeout(() => {
                toast.classList.add('show');
            }, 100);

            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 3000);
        }

        // Kategori ekleme dialog'u
        function showAddCategoryDialog() {
            const categoryName = prompt('Yeni kategori adƒ±nƒ± girin:');
            if (categoryName && categoryName.trim()) {
                const colors = ['#667eea', '#4caf50', '#ff9800', '#e91e63', '#9c27b0', '#2196f3'];
                const newCategory = {
                    id: Date.now().toString(),
                    name: categoryName.trim(),
                    color: colors[Math.floor(Math.random() * colors.length)]
                };

                categories.push(newCategory);
                saveCategories();
                renderCategories();
                showToast(`‚úÖ "${newCategory.name}" kategorisi eklendi!`);
            }
        }

        // Kategorileri g√∂ster
        function renderCategories() {
            const container = document.getElementById('categories-container');
            container.innerHTML = '';

            categories.forEach(category => {
                const categoryElement = document.createElement('div');
                categoryElement.className = 'category-item';
                categoryElement.onclick = () => setCategoryFilter(category.id);

                categoryElement.innerHTML = `
                    <div class="category-color" style="background: ${category.color};"></div>
                    <div class="category-name">${category.name}</div>
                `;

                container.appendChild(categoryElement);
            });
        }

        // Kategori filtresi
        function setCategoryFilter(categoryId) {
            // Bu fonksiyon eklenebilir - ≈üimdilik basit tutuyorum
            showToast('Kategori filtresi yakƒ±nda eklenecek!');
        }

        // AI Asistan a√ß/kapat
        function toggleAIAssistant() {
            const chat = document.getElementById('ai-chat');
            const toggleBtn = document.getElementById('ai-toggle-btn');

            if (chat.classList.contains('show')) {
                chat.classList.remove('show');
                toggleBtn.classList.remove('active');
            } else {
                chat.classList.add('show');
                toggleBtn.classList.add('active');
            }
        }

        // AI mesajƒ± ekle
        function addAIMessage(text, type) {
            const messages = document.getElementById('ai-chat-messages');
            if (!messages) return;

            const messageDiv = document.createElement('div');
            messageDiv.className = `ai-message ${type}`;

            const now = new Date();
            const time = now.toLocaleTimeString('tr-TR', {
                hour: '2-digit',
                minute: '2-digit'
            });

            messageDiv.innerHTML = `
                <div class="ai-message-avatar">${type === 'user' ? 'üë§' : 'ü§ñ'}</div>
                <div class="ai-message-content">
                    <div class="ai-message-text">${text}</div>
                    <div class="ai-message-time">${time}</div>
                </div>
            `;

            messages.appendChild(messageDiv);
            messages.scrollTop = messages.scrollHeight;
        }

        // AI mesaj g√∂nder
        function sendAIMessage() {
            const input = document.getElementById('ai-input');
            const message = input.value.trim();

            if (message) {
                addAIMessage(message, 'user');
                input.value = '';

                // AI yanƒ±tƒ± √ºret
                setTimeout(() => {
                    let response = generateAIResponse(message);
                    addAIMessage(response, 'ai');
                }, 1000);
            }
        }

        // AI klavye tu≈üu
        function handleAIKeyPress(event) {
            if (event.key === 'Enter') {
                sendAIMessage();
            }
        }

        // AI yanƒ±tlarƒ± √ºret
        function generateAIResponse(message) {
            const lowerMessage = message.toLowerCase();

            if (lowerMessage.includes('merhaba') || lowerMessage.includes('selam')) {
                return 'Merhaba! Size nasƒ±l yardƒ±mcƒ± olabilirim? G√∂rev y√∂netimi, kategoriler veya uygulama √∂zellikleri hakkƒ±nda soru sorabilirsiniz.';
            } else if (lowerMessage.includes('g√∂rev') && lowerMessage.includes('ekle')) {
                return 'Yeni g√∂rev eklemek i√ßin: 1) √úst kƒ±sƒ±mdaki input alanƒ±na g√∂rev metnini yazƒ±n, 2) √ñncelik ve kategori se√ßin, 3) "EKLE" butonuna basƒ±n veya Enter\'a basƒ±n.';
            } else if (lowerMessage.includes('kategori')) {
                return 'Kategoriler g√∂revlerinizi organize etmenizi saƒülar. "+" butonuna tƒ±klayarak yeni kategori ekleyebilirsiniz. Kategoriye tƒ±klayarak o kategorideki g√∂revleri g√∂rebilirsiniz.';
            } else if (lowerMessage.includes('√∂ncelik')) {
                return 'G√∂revlere 3 √∂ncelik seviyesi atayabilirsiniz: üî¥ Y√ºksek, üü° Orta, üü¢ D√º≈ü√ºk. Bu sayede √∂nemli g√∂revleri √∂n plana √ßƒ±karabilirsiniz.';
            } else if (lowerMessage.includes('yardƒ±m')) {
                return 'Detaylƒ± yardƒ±m i√ßin saƒü √ºst k√∂≈üedeki mavi "?" butonuna tƒ±klayƒ±n. Orada t√ºm √∂zellikler hakkƒ±nda bilgi bulabilirsiniz.';
            } else if (lowerMessage.includes('mobil')) {
                return 'Uygulama tamamen mobil uyumludur. T√ºm butonlar dokunmatik kullanƒ±m i√ßin optimize edildi ve responsive tasarƒ±m kullanƒ±yor.';
            } else {
                return 'Bu konuda daha detaylƒ± bilgi i√ßin l√ºtfen spesifik bir soru sorun. G√∂rev ekleme, kategori y√∂netimi, √∂ncelik atama veya diƒüer √∂zellikler hakkƒ±nda yardƒ±mcƒ± olabilirim.';
            }
        }

        // Yardƒ±m modalƒ±nƒ± g√∂ster
        function showHelpModal() {
            const modal = document.getElementById('help-modal');
            modal.classList.add('show');
        }

        // Yardƒ±m modalƒ±nƒ± kapat
        function hideHelpModal() {
            const modal = document.getElementById('help-modal');
            modal.classList.remove('show');
        }
