<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 To-Do PRO Ultimate - Profesyonel Görev Yöneticisi</title>
    <style>
        /* CSS Variables for Theming */
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            --danger-gradient: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);

            --text-primary: #2c3e50;
            --text-secondary: #7f8c8d;
            --text-white: #ffffff;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-accent: #e3f2fd;

            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.15);
            --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.2);

            --border-radius-sm: 8px;
            --border-radius-md: 12px;
            --border-radius-lg: 16px;
            --border-radius-xl: 20px;

            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-primary);
            line-height: 1.6;
        }

        /* Modern Container */
        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius-xl);
            box-shadow: var(--shadow-xl);
            overflow: hidden;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Enhanced Header */
        .app-header {
            background: var(--primary-gradient);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        .app-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="90" cy="20" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="20" cy="90" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.3;
        }

        .app-header h1 {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 12px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
        }

        .app-header p {
            font-size: 20px;
            opacity: 0.9;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        /* View Toggle Container */
        .view-toggle-container {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 12px;
            z-index: 1001;
        }

        .view-toggle-btn {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1002;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .view-toggle-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .view-toggle-btn.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
        }

        /* Main Content */
        .main-content {
            padding: 40px;
        }

        /* Enhanced Add Task Section */
        .add-task-section {
            background: var(--bg-primary);
            padding: 35px;
            border-radius: var(--border-radius-lg);
            margin-bottom: 40px;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(102, 126, 234, 0.1);
            position: relative;
            overflow: hidden;
        }

        .add-task-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary-gradient);
        }

        .add-task-section h3 {
            color: var(--text-primary);
            margin-bottom: 25px;
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .task-form-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 20px;
            align-items: end;
        }

        .task-input {
            padding: 18px 20px;
            border: 2px solid #e1e8ed;
            border-radius: var(--border-radius-md);
            font-size: 16px;
            transition: all 0.3s;
            background: var(--bg-primary);
            min-height: 56px;
        }

        .task-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .select-input {
            padding: 18px 16px;
            border: 2px solid #e1e8ed;
            border-radius: var(--border-radius-md);
            font-size: 16px;
            background: var(--bg-primary);
            cursor: pointer;
            transition: all 0.3s;
            min-height: 56px;
        }

        .select-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .date-input {
            padding: 18px 16px;
            border: 2px solid #e1e8ed;
            border-radius: var(--border-radius-md);
            font-size: 16px;
            background: var(--bg-primary);
            cursor: pointer;
            transition: all 0.3s;
            min-height: 56px;
        }

        .date-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .add-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 18px 32px;
            border-radius: var(--border-radius-md);
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 56px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .add-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .add-btn:hover::before {
            left: 100%;
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        /* Task Options */
        .task-options {
            margin-top: 20px;
            padding: 20px;
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
            border: 1px solid #e9ecef;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .checkbox-container input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #667eea;
            transform: scale(1.1);
        }

        .recurring-options {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-top: 15px;
        }

        .recurring-select,
        .recurring-input {
            padding: 12px 16px;
            border: 2px solid #e1e8ed;
            border-radius: var(--border-radius-sm);
            font-size: 14px;
            background: var(--bg-primary);
        }

        /* Categories Section */
        .categories-section {
            background: var(--bg-primary);
            padding: 35px;
            border-radius: var(--border-radius-lg);
            margin-bottom: 40px;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .categories-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .categories-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .add-category-btn {
            background: var(--success-gradient);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: var(--border-radius-md);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .add-category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
        }

        .category-item {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: var(--border-radius-md);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .category-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--category-color, #667eea);
        }

        .category-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: #667eea;
        }

        .category-item.active {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-color: #2196f3;
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .category-color {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin: 0 auto 12px;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .category-name {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 15px;
        }

        /* Filters */
        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            padding: 12px 20px;
            border: 2px solid #667eea;
            background: transparent;
            color: #667eea;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .filter-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: #667eea;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
            z-index: -1;
        }

        .filter-btn:hover::before,
        .filter-btn.active::before {
            width: 120px;
            height: 120px;
        }

        .filter-btn:hover,
        .filter-btn.active {
            color: white;
        }

        /* Tasks Section */
        .tasks-section {
            background: var(--bg-primary);
            padding: 35px;
            border-radius: var(--border-radius-lg);
            margin-bottom: 40px;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .tasks-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tasks-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .task-stats {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .stat {
            background: var(--bg-secondary);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stat.total { background: #e3f2fd; color: #1976d2; }
        .stat.completed { background: #e8f5e8; color: #388e3c; }
        .stat.pending { background: #fff3e0; color: #f57c00; }
        .stat.time-spent { background: #fce4ec; color: #e91e63; }

        /* Task Items */
        .tasks-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .task-item {
            background: var(--bg-primary);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-md);
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 4px solid #667eea;
            position: relative;
        }

        .task-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-left-color: #5a6fd8;
        }

        .task-item.completed {
            background: linear-gradient(135deg, #e8f5e8, #d4edda);
            border-left-color: #4caf50;
            opacity: 0.9;
            position: relative;
            overflow: hidden;
        }

        .task-item.completed::after {
            content: '✅';
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            font-size: 24px;
            animation: checkmarkPulse 0.6s ease-out;
        }

        @keyframes checkmarkPulse {
            0% { transform: translateY(-50%) scale(0); opacity: 0; }
            50% { transform: translateY(-50%) scale(1.2); opacity: 1; }
            100% { transform: translateY(-50%) scale(1); opacity: 1; }
        }

        .task-completed .task-text {
            text-decoration: line-through;
            color: #6c757d;
        }

        .task-content {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 25px;
        }

        .task-checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: #667eea;
            transform: scale(1.1);
        }

        .task-text {
            flex: 1;
            font-size: 17px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .task-completed .task-text {
            text-decoration: line-through;
            color: #888;
        }

        .task-meta {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .priority-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
        }

        .priority-high { background: #ffebee; color: #c62828; }
        .priority-medium { background: #fff3e0; color: #ef6c00; }
        .priority-low { background: #e8f5e8; color: #2e7d32; }

        .category-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        .due-date-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            background: #fff3e0;
            color: #f57c00;
        }

        .recurring-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            background: #e8f5e8;
            color: #2e7d32;
        }

        .task-actions {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        .task-btn {
            padding: 10px 14px;
            border: none;
            border-radius: var(--border-radius-sm);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .edit-btn {
            background: #2196f3;
            color: white;
        }

        .edit-btn:hover {
            background: #1976d2;
            transform: scale(1.05);
        }

        .time-btn {
            background: #ff9800;
            color: white;
        }

        .time-btn:hover {
            background: #f57c00;
            transform: scale(1.05);
        }

        .time-btn.tracking {
            background: #4caf50;
            animation: pulse 1.5s infinite;
        }

        .delete-btn {
            background: #f44336;
            color: white;
        }

        .delete-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-state h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .empty-state p {
            font-size: 16px;
            opacity: 0.8;
        }

        /* AI Assistant */
        .ai-assistant {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .ai-toggle {
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 18px 24px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: pulse 2s infinite;
            position: relative;
        }

        .ai-toggle::after {
            content: '💬';
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff6b6b;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: bounce 1s infinite;
        }

        .ai-toggle:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5);
        }

        .ai-chat {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 380px;
            height: 500px;
            background: var(--bg-primary);
            border-radius: var(--border-radius-xl);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            opacity: 0;
            transform: translateY(20px) scale(0.9);
            transition: all 0.3s ease;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .ai-chat.show {
            display: flex;
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .ai-chat-header {
            background: var(--primary-gradient);
            color: white;
            padding: 20px 25px;
            border-radius: var(--border-radius-xl) var(--border-radius-xl) 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-chat-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
        }

        .ai-chat-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .ai-chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .ai-chat-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .chat-control-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 14px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 15px;
            transition: all 0.3s;
        }

        .chat-control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .ai-chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .ai-message {
            display: flex;
            gap: 12px;
            margin-bottom: 15px;
            padding: 12px;
            border-radius: var(--border-radius-md);
            animation: slideInLeft 0.4s ease-out;
        }

        .ai-message.ai-welcome {
            background: var(--primary-gradient);
            color: white;
        }

        .ai-message.user {
            background: #e3f2fd;
            flex-direction: row-reverse;
        }

        .ai-message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .ai-message.user .ai-message-avatar {
            background: #2196f3;
        }

        .ai-message-content {
            flex: 1;
        }

        .ai-message-text {
            margin-bottom: 5px;
            line-height: 1.5;
            font-size: 14px;
        }

        .ai-message-time {
            font-size: 11px;
            opacity: 0.7;
        }

        .ai-chat-input-area {
            padding: 20px;
            border-top: 1px solid #e1e8ed;
            display: flex;
            gap: 12px;
            background: var(--bg-primary);
            border-radius: 0 0 var(--border-radius-xl) var(--border-radius-xl);
        }

        .ai-input {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid #e1e8ed;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
        }

        .ai-input:focus {
            border-color: #667eea;
        }

        .ai-send-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .ai-send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* Help System */
        .help-btn {
            position: fixed;
            top: 30px;
            right: 30px;
            background: var(--success-gradient);
            color: white;
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
            transition: all 0.3s;
            z-index: 999;
            animation: pulse 2s infinite;
        }

        .help-btn:hover {
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.5);
        }

        .help-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .help-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .help-content {
            background: var(--bg-primary);
            padding: 40px;
            border-radius: var(--border-radius-xl);
            max-width: 700px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .help-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .help-title {
            font-size: 28px;
            color: var(--text-primary);
            margin: 0;
            font-weight: 800;
        }

        .close-help {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #666;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .close-help:hover {
            background: #f5f5f5;
            color: var(--text-primary);
        }

        .help-section {
            margin-bottom: 30px;
        }

        .help-section h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 20px;
            font-weight: 700;
        }

        .help-section p {
            color: #666;
            line-height: 1.7;
            margin-bottom: 10px;
            font-size: 15px;
        }

        .help-tip {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            padding: 15px;
            border-radius: var(--border-radius-md);
            border-left: 4px solid #2196f3;
            margin: 15px 0;
        }

        .help-tip strong {
            color: #1976d2;
        }

        /* Advanced Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes rotateIn {
            from {
                opacity: 0;
                transform: rotate(-10deg) scale(0.8);
            }
            to {
                opacity: 1;
                transform: rotate(0deg) scale(1);
            }
        }

        @keyframes jelly {
            0%, 100% { transform: scale(1, 1); }
            25% { transform: scale(0.95, 1.05); }
            50% { transform: scale(1.05, 0.95); }
            75% { transform: scale(0.98, 1.02); }
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            14%, 42%, 70% { transform: scale(1.1); }
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-3deg); }
            75% { transform: rotate(3deg); }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        .slide-in-right {
            animation: slideInRight 0.6s ease-out;
        }

        .scale-in {
            animation: scaleIn 0.5s ease-out;
        }

        .rotate-in {
            animation: rotateIn 0.6s ease-out;
        }

        .jelly {
            animation: jelly 0.6s ease-in-out;
        }

        .heartbeat {
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        /* Theme Switcher */
        .theme-switcher {
            position: fixed;
            top: 50%;
            right: -60px;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: right 0.3s ease;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .theme-switcher.show {
            right: 20px;
        }

        .theme-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 8px 0;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .theme-option:hover {
            transform: scale(1.1);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .theme-option.active {
            border-color: #fff;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.6);
        }

        .theme-original { background: linear-gradient(135deg, #667eea, #764ba2); }
        .theme-ocean { background: linear-gradient(135deg, #2196f3, #21cbf3); }
        .theme-forest { background: linear-gradient(135deg, #4caf50, #66bb6a); }
        .theme-sunset { background: linear-gradient(135deg, #ff9800, #ff5722); }
        .theme-rose { background: linear-gradient(135deg, #e91e63, #ad1457); }
        .theme-purple { background: linear-gradient(135deg, #9c27b0, #673ab7); }
        .theme-midnight { background: linear-gradient(135deg, #3f51b5, #2196f3); }
        .theme-cyber { background: linear-gradient(135deg, #00bcd4, #009688); }

        .theme-tooltip {
            position: absolute;
            right: 50px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .theme-option:hover .theme-tooltip {
            opacity: 1;
        }

        /* Theme Variables */
        .theme-ocean {
            --primary-gradient: linear-gradient(135deg, #2196f3 0%, #21cbf3 100%);
            --text-primary: #1565c0;
            --bg-primary: #ffffff;
            --bg-secondary: #e3f2fd;
        }

        .theme-forest {
            --primary-gradient: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
            --text-primary: #2e7d32;
            --bg-primary: #ffffff;
            --bg-secondary: #e8f5e8;
        }

        .theme-sunset {
            --primary-gradient: linear-gradient(135deg, #ff9800 0%, #ff5722 100%);
            --text-primary: #e65100;
            --bg-primary: #ffffff;
            --bg-secondary: #fff3e0;
        }

        .theme-rose {
            --primary-gradient: linear-gradient(135deg, #e91e63 0%, #ad1457 100%);
            --text-primary: #880e4f;
            --bg-primary: #ffffff;
            --bg-secondary: #fce4ec;
        }

        .theme-purple {
            --primary-gradient: linear-gradient(135deg, #9c27b0 0%, #673ab7 100%);
            --text-primary: #4a148c;
            --bg-primary: #ffffff;
            --bg-secondary: #f3e5f5;
        }

        .theme-midnight {
            --primary-gradient: linear-gradient(135deg, #3f51b5 0%, #2196f3 100%);
            --text-primary: #1a237e;
            --bg-primary: #ffffff;
            --bg-secondary: #e8eaf6;
        }

        .theme-cyber {
            --primary-gradient: linear-gradient(135deg, #00bcd4 0%, #009688 100%);
            --text-primary: #00695c;
            --bg-primary: #ffffff;
            --bg-secondary: #e0f2f1;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        .slide-in-left {
            animation: slideInLeft 0.5s ease-out;
        }

        /* Desktop Mode */
        .desktop-mode {
            max-width: 1400px !important;
            margin: 0 auto !important;
        }

        .desktop-mode .app-container {
            max-width: 1400px !important;
        }

        .desktop-mode .task-form-grid {
            grid-template-columns: 2fr 1fr 1fr 1fr auto !important;
        }

        .desktop-mode .categories-grid {
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)) !important;
        }

        .desktop-mode .task-content {
            flex-direction: row !important;
        }

        /* Mobile Mode */
        .mobile-mode {
            max-width: 480px !important;
            margin: 0 auto !important;
        }

        .mobile-mode .app-container {
            max-width: 100% !important;
            border-radius: 0 !important;
            margin: 0 !important;
            box-shadow: none !important;
        }

        .mobile-mode .app-header {
            padding: 25px 20px !important;
            border-radius: 0 !important;
        }

        .mobile-mode .app-header h1 {
            font-size: 32px !important;
        }

        .mobile-mode .app-header p {
            font-size: 16px !important;
        }

        .mobile-mode .main-content {
            padding: 20px !important;
        }

        .mobile-mode .add-task-section,
        .mobile-mode .categories-section,
        .mobile-mode .tasks-section {
            padding: 25px 20px !important;
            margin-bottom: 25px !important;
        }

        .mobile-mode .task-form-grid {
            grid-template-columns: 1fr !important;
            gap: 15px !important;
        }

        .mobile-mode .task-input,
        .mobile-mode .select-input,
        .mobile-mode .date-input {
            min-height: 52px !important;
            font-size: 16px !important; /* Prevents zoom on iOS */
        }

        .mobile-mode .add-btn {
            min-height: 52px !important;
            padding: 16px 24px !important;
        }

        .mobile-mode .categories-grid {
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 15px !important;
        }

        .mobile-mode .category-item {
            padding: 18px 15px !important;
        }

        .mobile-mode .filters {
            gap: 8px !important;
        }

        .mobile-mode .filter-btn {
            padding: 10px 16px !important;
            font-size: 13px !important;
            min-height: 44px !important;
        }

        .mobile-mode .tasks-header {
            flex-direction: column !important;
            gap: 15px !important;
            align-items: stretch !important;
        }

        .mobile-mode .task-content {
            flex-direction: column !important;
            gap: 12px !important;
            align-items: flex-start !important;
        }

        .mobile-mode .task-actions {
            width: 100% !important;
            justify-content: space-around !important;
        }

        .mobile-mode .task-btn {
            min-height: 44px !important;
            min-width: 44px !important;
        }

        .mobile-mode .ai-assistant {
            bottom: 20px !important;
            right: 20px !important;
        }

        .mobile-mode .ai-toggle {
            padding: 15px 20px !important;
            font-size: 14px !important;
        }

        .mobile-mode .ai-chat {
            width: calc(100vw - 40px) !important;
            height: 70vh !important;
            max-height: 450px !important;
            right: -20px !important;
        }

        .mobile-mode .help-btn {
            top: 20px !important;
            right: 20px !important;
        }

        /* Touch Device Optimizations */
        @media (hover: none) and (pointer: coarse) {
            .view-toggle-btn,
            .task-btn,
            .filter-btn,
            .add-btn,
            .add-category-btn,
            .ai-toggle,
            .help-btn {
                min-height: 48px;
                min-width: 48px;
            }

            .task-checkbox {
                width: 28px;
                height: 28px;
            }

            /* Remove hover effects on touch devices */
            .view-toggle-btn:hover,
            .task-btn:hover,
            .filter-btn:hover,
            .add-btn:hover,
            .add-category-btn:hover,
            .ai-toggle:hover,
            .help-btn:hover {
                transform: none !important;
                box-shadow: none !important;
            }

            /* Add active states for touch feedback */
            .view-toggle-btn:active,
            .task-btn:active,
            .filter-btn:active,
            .add-btn:active,
            .add-category-btn:active,
            .ai-toggle:active,
            .help-btn:active {
                transform: scale(0.95);
                opacity: 0.9;
            }
        }

        /* Toast Messages */
        .toast {
            position: fixed;
            top: 30px;
            right: 30px;
            background: #333;
            color: white;
            padding: 18px 24px;
            border-radius: var(--border-radius-md);
            z-index: 10000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
        }

        .toast.show {
            transform: translateX(0);
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            :root {
                --text-primary: #ffffff;
                --text-secondary: #b0b0b0;
                --bg-primary: #1a1a1a;
                --bg-secondary: #2d2d2d;
                --bg-accent: #3a3a3a;
            }
        }

        /* Achievements Section */
        .achievements-section {
            background: var(--bg-primary);
            padding: 35px;
            border-radius: var(--border-radius-lg);
            margin-bottom: 40px;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .achievements-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .achievement-item {
            background: var(--bg-secondary);
            padding: 25px;
            border-radius: var(--border-radius-md);
            text-align: center;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .achievement-item.locked {
            opacity: 0.7;
        }

        .achievement-item.unlocked {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border-color: #ffc107;
            animation: achievementUnlock 0.6s ease-out;
        }

        @keyframes achievementUnlock {
            0% { transform: scale(0.9); opacity: 0; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }

        .achievement-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .achievement-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .achievement-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .achievement-progress {
            margin-bottom: 15px;
        }

        .achievement-progress-bar {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .achievement-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            border-radius: 4px;
            transition: width 0.8s ease;
        }

        .achievement-status {
            font-size: 14px;
            font-weight: 600;
        }

        .achievement-status.locked {
            color: #6c757d;
        }

        .achievement-status.unlocked {
            color: #28a745;
        }

        /* Floating Action Buttons */
        .fab-container {
            position: fixed;
            bottom: 30px;
            left: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 999;
        }

        .fab {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-gradient);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fab:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5);
        }

        .fab.export {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
        }

        .fab.stats {
            background: linear-gradient(135deg, #ff9800, #ff5722);
        }

        .fab.settings {
            background: linear-gradient(135deg, #9c27b0, #673ab7);
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="app-header">
            <h1>🚀 To-Do PRO Ultimate</h1>
            <p>Profesyonel Görev Yöneticisi - En İyi Sürüm</p>
            <div class="view-toggle-container">
                <button class="view-toggle-btn" onclick="setViewMode('desktop')" id="desktop-btn" title="Bilgisayar Görünümü">
                    💻
                </button>
                <button class="view-toggle-btn" onclick="setViewMode('mobile')" id="mobile-btn" title="Telefon Görünümü">
                    📱
                </button>
                <button class="view-toggle-btn" onclick="toggleThemeSwitcher()" id="theme-btn" title="Tema Değiştir">
                    🎨
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Add Task Section -->
            <div class="add-task-section fade-in">
                <h3>✨ Yeni Görev Ekle</h3>
                <div class="task-form-grid">
                    <input type="text" id="task-input" class="task-input" placeholder="Görev açıklamasını yazın..." autocomplete="off">
                    <select id="priority-select" class="select-input">
                        <option value="low">🟢 Düşük Öncelik</option>
                        <option value="medium" selected>🟡 Orta Öncelik</option>
                        <option value="high">🔴 Yüksek Öncelik</option>
                    </select>
                    <select id="category-select" class="select-input">
                        <option value="">📂 Kategori Seçin</option>
                    </select>
                    <input type="datetime-local" id="due-date-input" class="date-input" title="Bitiş tarihi (opsiyonel)">
                    <button onclick="addTask()" class="add-btn">➕ EKLE</button>
                </div>

                <!-- Task Options -->
                <div class="task-options">
                    <label class="checkbox-container">
                        <input type="checkbox" id="recurring-task" onchange="toggleRecurringOptions()">
                        <span class="checkmark"></span>
                        🔄 Tekrarlayan görev oluştur
                    </label>
                    <div id="recurring-options" class="recurring-options">
                        <select id="recurring-type" class="recurring-select">
                            <option value="daily">📅 Günlük</option>
                            <option value="weekly">📆 Haftalık</option>
                            <option value="monthly">📅 Aylık</option>
                        </select>
                        <input type="number" id="recurring-count" class="recurring-input" placeholder="Kaç kez?" min="1" max="52" value="1">
                    </div>
                </div>
            </div>

            <!-- Categories Section -->
            <div class="categories-section fade-in">
                <div class="categories-header">
                    <h3 class="categories-title">📂 Kategoriler</h3>
                    <button onclick="showAddCategoryDialog()" class="add-category-btn">+ Kategori Ekle</button>
                </div>
                <div class="categories-grid" id="categories-container">
                    <!-- Categories will be loaded here -->
                </div>
            </div>

            <!-- Filters -->
            <div class="filters fade-in">
                <button class="filter-btn active" onclick="setFilter('all')">Tümü</button>
                <button class="filter-btn" onclick="setFilter('pending')">Bekleyen</button>
                <button class="filter-btn" onclick="setFilter('completed')">Tamamlanan</button>
                <button class="filter-btn" onclick="setFilter('high')">🔴 Yüksek</button>
                <button class="filter-btn" onclick="setFilter('medium')">🟡 Orta</button>
                <button class="filter-btn" onclick="setFilter('low')">🟢 Düşük</button>
                <button class="filter-btn" onclick="setFilter('overdue')">⏰ Geciken</button>
            </div>

            <!-- Tasks Section -->
            <div class="tasks-section fade-in">
                <div class="tasks-header">
                    <div class="tasks-title">📋 Görevlerim</div>
                    <div class="task-stats">
                        <span class="stat total">Toplam: <span id="total-count">0</span></span>
                        <span class="stat completed">✅ <span id="completed-count">0</span></span>
                        <span class="stat pending">⏳ <span id="pending-count">0</span></span>
                        <span class="stat time-spent">⏱️ <span id="total-time">0dk</span></span>
                    </div>
                </div>
                <div class="tasks-list" id="tasks-list">
                    <!-- Tasks will be loaded here -->
                </div>
            </div>

            <!-- Achievements Section -->
            <div class="achievements-section fade-in">
                <h3 class="achievements-title">🏆 Başarımlar</h3>
                <div class="achievements-grid" id="achievements-container">
                    <!-- Achievements will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- AI Assistant -->
    <div class="ai-assistant" id="ai-assistant">
        <button class="ai-toggle" onclick="toggleAIAssistant()" id="ai-toggle-btn">
            <span class="ai-icon">🤖</span>
            <span class="ai-text">AI Asistan</span>
        </button>

        <div class="ai-chat" id="ai-chat">
            <div class="ai-chat-header">
                <h3>🤖 AI Asistan</h3>
                <div class="ai-chat-controls">
                    <button class="chat-control-btn" onclick="clearChatHistory()" title="Geçmişi Temizle">🗑️</button>
                    <button class="chat-control-btn" onclick="exportChatHistory()" title="Geçmişi Dışa Aktar">📤</button>
                    <button class="ai-chat-close" onclick="toggleAIAssistant()">✕</button>
                </div>
            </div>
            <div class="ai-chat-messages" id="ai-chat-messages">
                <div class="ai-message ai-welcome">
                    <div class="ai-message-avatar">🤖</div>
                    <div class="ai-message-content">
                        <div class="ai-message-text">Merhaba! Ben To-Do PRO AI asistanıyım. Görev yönetimi, kategoriler ve uygulama hakkında size yardımcı olabilirim. Ne sormak istiyorsunuz?</div>
                        <div class="ai-message-time">Şimdi</div>
                    </div>
                </div>
            </div>
            <div class="ai-chat-input-area">
                <input type="text" id="ai-input" class="ai-input" placeholder="AI asistana sorun sorun..." onkeypress="handleAIKeyPress(event)" autocomplete="off">
                <button class="ai-send-btn" onclick="sendAIMessage()">🚀</button>
            </div>
        </div>
    </div>

    <!-- Help System -->
    <button class="help-btn" onclick="showHelpModal()" title="Yardım">?</button>

    <!-- Help Modal -->
    <div class="help-modal" id="help-modal">
        <div class="help-content">
            <div class="help-header">
                <h2 class="help-title">📚 To-Do PRO Ultimate Yardım Rehberi</h2>
                <button class="close-help" onclick="hideHelpModal()">✕</button>
            </div>

            <div class="help-section">
                <h4>🚀 Görev Ekleme</h4>
                <p>• Üst kısımdaki input alanına görev metnini yazın</p>
                <p>• Öncelik seviyesi seçin (Düşük/Orta/Yüksek)</p>
                <p>• İsteğe bağlı olarak kategori seçin</p>
                <p>• Bitiş tarihi belirleyin (opsiyonel)</p>
                <p>• "EKLE" butonuna basın veya Enter'a basın</p>
                <div class="help-tip">
                    💡 <strong>İpucu:</strong> Hızlı görev eklemek için sadece metin yazıp Enter'a basın!
                </div>
            </div>

            <div class="help-section">
                <h4>🔄 Tekrarlayan Görevler</h4>
                <p>• "Tekrarlayan görev" seçeneğini işaretleyin</p>
                <p>• Tekrarlama türünü seçin (Günlük/Haftalık/Aylık)</p>
                <p>• Kaç kez tekrarlayacağını belirleyin</p>
                <p>• Sistem otomatik olarak görevleri oluşturacak</p>
            </div>

            <div class="help-section">
                <h4>✅ Görev Yönetimi</h4>
                <p>• Checkbox'a tıklayarak görevleri tamamlayın</p>
                <p>• ✏️ butonu ile görevleri düzenleyin</p>
                <p>• ⏱️ butonu ile zaman takibi başlatın/durdurun</p>
                <p>• 🗑️ butonu ile görevleri silin</p>
                <p>• Öncelik seviyesine göre otomatik renk kodlaması</p>
            </div>

            <div class="help-section">
                <h4>📂 Kategoriler</h4>
                <p>• "+" butonuna tıklayarak yeni kategori ekleyin</p>
                <p>• Kategoriye tıklayarak o kategorideki görevleri filtreleyin</p>
                <p>• Her kategori farklı renkle gösterilir</p>
            </div>

            <div class="help-section">
                <h4>🔍 Filtreleme</h4>
                <p>• "Tümü" - Tüm görevleri gösterir</p>
                <p>• "Bekleyen" - Tamamlanmamış görevler</p>
                <p>• "Tamamlanan" - Tamamlanmış görevler</p>
                <p>• Öncelik butonları ile öncelik seviyesine göre filtreleme</p>
                <p>• "Geciken" - Vadesi geçmiş görevler</p>
            </div>

            <div class="help-section">
                <h4>⏱️ Zaman Takibi</h4>
                <p>• Göreve ⏱️ butonuna tıklayarak zaman takibi başlatın</p>
                <p>• Yeşil buton zaman takibinin aktif olduğunu gösterir</p>
                <p>• Tekrar ⏱️ butonuna tıklayarak zamanı kaydedin</p>
                <p>• Toplam süre istatistiklerde gösterilir</p>
            </div>

            <div class="help-section">
                <h4>🏆 Başarımlar</h4>
                <p>• Görev tamamladıkça başarımlar açılır</p>
                <p>• İlerleme çubukları hedefe ne kadar yaklaştığınızı gösterir</p>
                <p>• 6 farklı başarım kategorisi mevcut</p>
            </div>

            <div class="help-section">
                <h4>💻📱 Görünüm Modları</h4>
                <p>• Sağ üstteki 💻 butonu ile bilgisayar görünümüne geçin</p>
                <p>• 📱 butonu ile mobil görünümüne geçin</p>
                <p>• Her mod kendi optimizasyonuna sahiptir</p>
            </div>

            <div class="help-section">
                <h4>📱 Mobil Kullanım</h4>
                <p>• Tüm butonlar dokunmatik kullanım için optimize edildi</p>
                <p>• Responsive tasarım tüm ekran boyutlarında çalışır</p>
                <p>• Touch-friendly buton boyutları (44px minimum)</p>
            </div>

            <div class="help-section">
                <h4>💾 Veri Saklama</h4>
                <p>• Tüm veriler tarayıcıda yerel olarak saklanır</p>
                <p>• İnternet bağlantısı olmadan da çalışır</p>
                <p>• Veriler otomatik olarak kaydedilir</p>
            </div>
        </div>
    </div>

    <!-- Theme Switcher Panel -->
    <div class="theme-switcher" id="theme-switcher">
        <div class="theme-option theme-original active" onclick="setTheme('original')" title="Orijinal">
            <span class="theme-tooltip">Orijinal</span>
        </div>
        <div class="theme-option theme-ocean" onclick="setTheme('ocean')" title="Okyanus">
            <span class="theme-tooltip">Okyanus</span>
        </div>
        <div class="theme-option theme-forest" onclick="setTheme('forest')" title="Orman">
            <span class="theme-tooltip">Orman</span>
        </div>
        <div class="theme-option theme-sunset" onclick="setTheme('sunset')" title="Gün Batımı">
            <span class="theme-tooltip">Gün Batımı</span>
        </div>
        <div class="theme-option theme-rose" onclick="setTheme('rose')" title="Gül">
            <span class="theme-tooltip">Gül</span>
        </div>
        <div class="theme-option theme-purple" onclick="setTheme('purple')" title="Mor">
            <span class="theme-tooltip">Mor</span>
        </div>
        <div class="theme-option theme-midnight" onclick="setTheme('midnight')" title="Gece Yarısı">
            <span class="theme-tooltip">Gece Yarısı</span>
        </div>
        <div class="theme-option theme-cyber" onclick="setTheme('cyber')" title="Siber">
            <span class="theme-tooltip">Siber</span>
        </div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
        <button class="fab" onclick="showQuickActions()" title="Hızlı İşlemler">
            <span style="font-size: 24px;">⚡</span>
        </button>
        <button class="fab export" onclick="exportTasks()" title="Verileri Dışa Aktar">
            <span style="font-size: 18px;">📤</span>
        </button>
        <button class="fab stats" onclick="showDetailedStats()" title="Detaylı İstatistikler">
            <span style="font-size: 18px;">📊</span>
        </button>
        <button class="fab settings" onclick="showSettings()" title="Ayarlar">
            <span style="font-size: 18px;">⚙️</span>
        </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <script>
        // Modern, güçlü ve kullanıcı dostu görev yöneticisi

        // Veri yönetimi
        let tasks = [];
        let categories = [];
        let achievements = [];
        let currentFilter = 'all';

        // Başarımları yükle
        function loadAchievements() {
            try {
                const saved = localStorage.getItem('todo_pro_achievements');
                if (saved) {
                    achievements = JSON.parse(saved);
                } else {
                    achievements = [
                        {
                            id: 'first_task',
                            name: 'İlk Görev',
                            description: 'İlk görevi tamamla',
                            icon: '🎯',
                            requirement: 1,
                            current: 0,
                            unlocked: false,
                            category: 'baslangic'
                        },
                        {
                            id: 'task_master',
                            name: 'Görev Ustası',
                            description: '25 görevi tamamla',
                            icon: '🏆',
                            requirement: 25,
                            current: 0,
                            unlocked: false,
                            category: 'tamamlama'
                        },
                        {
                            id: 'time_tracker',
                            name: 'Zaman Ustası',
                            description: '5 saat zaman takip et',
                            icon: '⏱️',
                            requirement: 300,
                            current: 0,
                            unlocked: false,
                            category: 'zaman'
                        },
                        {
                            id: 'category_king',
                            name: 'Kategori Kralı',
                            description: '10 kategori oluştur',
                            icon: '📂',
                            requirement: 10,
                            current: 0,
                            unlocked: false,
                            category: 'kategoriler'
                        },
                        {
                            id: 'perfectionist',
                            name: 'Mükemmeliyetçi',
                            description: 'Yüksek öncelikli 15 görevi tamamla',
                            icon: '💎',
                            requirement: 15,
                            current: 0,
                            unlocked: false,
                            category: 'oncelik'
                        },
                        {
                            id: 'streak_master',
                            name: 'Çizgi Ustası',
                            description: '7 gün üst üste görev tamamla',
                            icon: '🔥',
                            requirement: 7,
                            current: 0,
                            unlocked: false,
                            category: 'cizgi'
                        },
                        {
                            id: 'recurring_master',
                            name: 'Tekrar Ustası',
                            description: '10 tekrarlayan görev oluştur',
                            icon: '🔄',
                            requirement: 10,
                            current: 0,
                            unlocked: false,
                            category: 'tekrar'
                        },
                        {
                            id: 'early_bird',
                            name: 'Erken Kuş',
                            description: 'Vadesinden 1 gün önce 5 görevi tamamla',
                            icon: '🐦',
                            requirement: 5,
                            current: 0,
                            unlocked: false,
                            category: 'erken'
                        },
                        {
                            id: 'night_owl',
                            name: 'Gece Kuşu',
                            description: 'Gece yarısından sonra 3 görevi tamamla',
                            icon: '🦉',
                            requirement: 3,
                            current: 0,
                            unlocked: false,
                            category: 'gece'
                        },
                        {
                            id: 'speed_demon',
                            name: 'Hızlı Adam',
                            description: '1 dakikadan kısa sürede 5 görevi tamamla',
                            icon: '⚡',
                            requirement: 5,
                            current: 0,
                            unlocked: false,
                            category: 'hiz'
                        },
                        {
                            id: 'data_collector',
                            name: 'Veri Toplayıcı',
                            description: '100 görev oluştur',
                            icon: '📊',
                            requirement: 100,
                            current: 0,
                            unlocked: false,
                            category: 'veri'
                        },
                        {
                            id: 'social_butterfly',
                            name: 'Sosyal Kelebek',
                            description: '5 farklı kategoride görev tamamla',
                            icon: '🦋',
                            requirement: 5,
                            current: 0,
                            unlocked: false,
                            category: 'sosyal'
                        }
                    ];
                    saveAchievements();
                }
            } catch (e) {
                console.error('Başarımlar yüklenemedi:', e);
                achievements = [];
            }
        }

        // Başarımları kaydet
        function saveAchievements() {
            try {
                localStorage.setItem('todo_pro_achievements', JSON.stringify(achievements));
            } catch (e) {
                console.error('Başarımlar kaydedilemedi:', e);
            }
        }

        // Tema değiştiriciyi aç/kapat
        function toggleThemeSwitcher() {
            const switcher = document.getElementById('theme-switcher');
            switcher.classList.toggle('show');
        }

        // Tema değiştir
        function setTheme(themeName) {
            // Tüm tema sınıflarını kaldır
            document.body.classList.remove('theme-original', 'theme-ocean', 'theme-forest', 'theme-sunset', 'theme-rose', 'theme-purple', 'theme-midnight', 'theme-cyber');

            // Yeni temayı uygula
            if (themeName !== 'original') {
                document.body.classList.add(`theme-${themeName}`);
            }

            // Aktif tema butonunu güncelle
            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('active');
            });
            document.querySelector(`.theme-${themeName}`).classList.add('active');

            // Tema bilgisini kaydet
            localStorage.setItem('todo_pro_theme', themeName);

            // Tema değiştiriciyi kapat
            document.getElementById('theme-switcher').classList.remove('show');

            showToast(`🎨 ${getThemeName(themeName)} teması uygulandı!`);
        }

        // Tema adını al
        function getThemeName(themeName) {
            const themes = {
                'original': 'Orijinal',
                'ocean': 'Okyanus',
                'forest': 'Orman',
                'sunset': 'Gün Batımı',
                'rose': 'Gül',
                'purple': 'Mor',
                'midnight': 'Gece Yarısı',
                'cyber': 'Siber'
            };
            return themes[themeName] || 'Orijinal';
        }

        // Mevcut temayı yükle
        function loadTheme() {
            const savedTheme = localStorage.getItem('todo_pro_theme') || 'original';
            setTheme(savedTheme);
        }

        // Görünüm modunu başlat
        function initializeViewMode() {
            setViewMode('desktop');
        }

        // Görünüm modunu değiştir
        function setViewMode(mode) {
            console.log('Görünüm değiştiriliyor:', mode);
            const body = document.body;

            body.classList.remove('desktop-mode', 'mobile-mode');
            body.classList.add(`${mode}-mode`);

            // Aktif butonu güncelle
            document.getElementById('desktop-btn').classList.remove('active');
            document.getElementById('mobile-btn').classList.remove('active');
            document.getElementById(`${mode}-btn`).classList.add('active');

            showToast(`${mode === 'desktop' ? '💻 Bilgisayar' : '📱 Telefon'} görünümü aktif!`);
        }

        // Event listeners
        function setupEventListeners() {
            const taskInput = document.getElementById('task-input');
            taskInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addTask();
                }
            });
        }

        // Görevleri yükle
        function loadTasks() {
            try {
                const saved = localStorage.getItem('todo_pro_tasks');
                if (saved) {
                    tasks = JSON.parse(saved);
                }
            } catch (e) {
                console.error('Görevler yüklenemedi:', e);
                tasks = [];
            }
        }

        // Görevleri kaydet
        function saveTasks() {
            try {
                localStorage.setItem('todo_pro_tasks', JSON.stringify(tasks));
            } catch (e) {
                console.error('Görevler kaydedilemedi:', e);
            }
        }

        // Kategorileri yükle
        function loadCategories() {
            try {
                const saved = localStorage.getItem('todo_pro_categories');
                if (saved) {
                    categories = JSON.parse(saved);
                } else {
                    categories = [
                        { id: '1', name: 'İş', color: '#667eea' },
                        { id: '2', name: 'Kişisel', color: '#4caf50' },
                        { id: '3', name: 'Alışveriş', color: '#ff9800' },
                        { id: '4', name: 'Sağlık', color: '#e91e63' },
                        { id: '5', name: 'Eğitim', color: '#9c27b0' },
                        { id: '6', name: 'Spor', color: '#2196f3' },
                        { id: '7', name: 'Seyahat', color: '#ff5722' },
                        { id: '8', name: 'Finans', color: '#795548' },
                        { id: '9', name: 'Hobiler', color: '#607d8b' },
                        { id: '10', name: 'Aile', color: '#e91e63' }
                    ];
                    saveCategories();
                }
            } catch (e) {
                console.error('Kategoriler yüklenemedi:', e);
                categories = [];
            }
        }

        // Kategorileri kaydet
        function saveCategories() {
            try {
                localStorage.setItem('todo_pro_categories', JSON.stringify(categories));
            } catch (e) {
                console.error('Kategoriler kaydedilemedi:', e);
            }
        }

        // Görev ekle
        function addTask() {
            const input = document.getElementById('task-input');
            const prioritySelect = document.getElementById('priority-select');
            const categorySelect = document.getElementById('category-select');
            const dueDateInput = document.getElementById('due-date-input');
            const recurringCheckbox = document.getElementById('recurring-task');

            if (!input || !prioritySelect || !categorySelect || !dueDateInput || !recurringCheckbox) {
                return;
            }

            const taskText = input.value.trim();
            const priority = prioritySelect.value;
            const categoryId = categorySelect.value;
            const dueDate = dueDateInput.value ? new Date(dueDateInput.value).toISOString() : null;
            const isRecurring = recurringCheckbox.checked;

            if (taskText) {
                const category = categories.find(c => c.id === categoryId);

                const mainTask = {
                    id: Date.now().toString(),
                    text: taskText,
                    completed: false,
                    priority: priority,
                    categoryId: categoryId,
                    categoryName: category ? category.name : '',
                    categoryColor: category ? category.color : '',
                    dueDate: dueDate,
                    isRecurring: isRecurring,
                    recurringType: null,
                    recurringCount: 0,
                    created: new Date().toISOString(),
                    timeSpent: 0,
                    comments: []
                };

                tasks.unshift(mainTask);

                if (isRecurring) {
                    const recurringType = document.getElementById('recurring-type').value;
                    const recurringCount = parseInt(document.getElementById('recurring-count').value) || 1;
                    createRecurringTasks(mainTask, recurringType, recurringCount);
                }

                saveTasks();
                renderTasks();
                updateStats();
                updateAchievementProgress();
                resetForm();

                showToast(`✅ Görev eklendi! ${isRecurring ? '(Tekrarlayan)' : ''}`);
            } else {
                showToast('⚠️ Lütfen görev metni girin!');
            }
        }

        // Tekrarlayan görevleri oluştur
        function createRecurringTasks(baseTask, recurringType, count) {
            const baseDate = baseTask.dueDate ? new Date(baseTask.dueDate) : new Date();

            for (let i = 1; i <= count; i++) {
                const recurringTask = { ...baseTask };
                recurringTask.id = `${baseTask.id}_recurring_${i}`;
                recurringTask.text = `${baseTask.text} (${i}/${count})`;
                recurringTask.isRecurring = true;
                recurringTask.recurringType = recurringType;
                recurringTask.recurringCount = i;

                const nextDate = new Date(baseDate);
                switch (recurringType) {
                    case 'daily':
                        nextDate.setDate(nextDate.getDate() + i);
                        break;
                    case 'weekly':
                        nextDate.setDate(nextDate.getDate() + (i * 7));
                        break;
                    case 'monthly':
                        nextDate.setMonth(nextDate.getMonth() + i);
                        break;
                }
                recurringTask.dueDate = nextDate.toISOString();

                tasks.push(recurringTask);
            }
        }

        // Formu sıfırla
        function resetForm() {
            document.getElementById('task-input').value = '';
            document.getElementById('priority-select').value = 'medium';
            document.getElementById('category-select').value = '';
            document.getElementById('due-date-input').value = '';
            document.getElementById('recurring-task').checked = false;
            toggleRecurringOptions();
        }

        // Tekrarlayan seçenekleri göster/gizle
        function toggleRecurringOptions() {
            const checkbox = document.getElementById('recurring-task');
            const options = document.getElementById('recurring-options');

            if (checkbox.checked) {
                options.style.display = 'flex';
            } else {
                options.style.display = 'none';
            }
        }

// Tekrarlayan seçenekleri göster/gizle
function toggleRecurringOptions() {
    const checkbox = document.getElementById('recurring-task');
    const options = document.getElementById('recurring-options');

    if (checkbox.checked) {
        options.style.display = 'flex';
    } else {
        options.style.display = 'none';
    }
}

// Görevleri göster
function renderTasks() {
    const container = document.getElementById('tasks-list');
    const filteredTasks = getFilteredTasks();

    if (!container) {
        return;
    }

    container.innerHTML = '';

    if (filteredTasks.length === 0) {
        container.innerHTML = `
            <div class="empty-state">
                <div class="empty-state-icon">📋</div>
                <h3>Henüz görev yok</h3>
                <p>Yeni görev eklemek için yukarıyı kullanın!</p>
            </div>
        `;
        return;
    }

    filteredTasks.forEach(task => {
        const taskElement = document.createElement('div');
        taskElement.className = `task-item fade-in ${task.completed ? 'completed' : ''}`;

        const priorityClass = `priority-${task.priority || 'medium'}`;
        const isOverdue = task.dueDate && new Date(task.dueDate) < new Date() && !task.completed;

        taskElement.innerHTML = `
            <div class="task-content">
                <input type="checkbox" class="task-checkbox" ${task.completed ? 'checked' : ''} onchange="toggleTask('${task.id}')">
                <div class="task-text">${task.text}</div>
                <div class="task-meta">
                    <span class="priority-badge ${priorityClass}">${getPriorityText(task.priority)}</span>
                    ${task.categoryName ? `<span class="category-badge" style="background: ${task.categoryColor}">${task.categoryName}</span>` : ''}
                    ${task.dueDate ? `<span class="due-date-badge ${isOverdue ? 'overdue' : ''}">${formatDate(task.dueDate)}</span>` : ''}
                    ${task.isRecurring ? `<span class="recurring-badge">🔄 ${task.recurringType}</span>` : ''}
                </div>
            </div>
            <div class="task-actions">
                <button class="task-btn edit-btn" onclick="editTask('${task.id}')" title="Düzenle">✏️</button>
                <button class="task-btn time-btn ${task.isTracking ? 'tracking' : ''}" onclick="trackTime('${task.id}')" title="Zaman Takibi">
                    ${task.isTracking ? '⏹️' : '⏱️'}
                </button>
                <button class="task-btn delete-btn" onclick="deleteTask('${task.id}')" title="Sil">🗑️</button>
            </div>
        `;

        container.appendChild(taskElement);
    });
}

        // Filtrelenmiş görevleri al
        function getFilteredTasks() {
            let filtered = [...tasks];

            // Önce mevcut filtreyi kontrol et
            switch (currentFilter) {
                case 'completed':
                    filtered = tasks.filter(task => task.completed);
                    break;
                case 'pending':
                    filtered = tasks.filter(task => !task.completed);
                    break;
                case 'high':
                    filtered = tasks.filter(task => task.priority === 'high');
                    break;
                case 'medium':
                    filtered = tasks.filter(task => task.priority === 'medium');
                    break;
                case 'low':
                    filtered = tasks.filter(task => task.priority === 'low');
                    break;
                case 'overdue':
                    filtered = tasks.filter(task => task.dueDate && new Date(task.dueDate) < new Date() && !task.completed);
                    break;
                default:
                    // Eğer kategori filtresi ise
                    if (currentFilter && categories.find(c => c.id === currentFilter)) {
                        filtered = tasks.filter(task => task.categoryId === currentFilter);
                    }
                    break;
            }

            return filtered;
        }

        // Filtre ayarla
        function setFilter(filter) {
            currentFilter = filter;

            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            renderTasks();
        }

        // Görevi tamamla/tamamlanmamış yap
        function toggleTask(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                saveTasks();
                renderTasks();
                updateStats();
                updateAchievementProgress();
                showToast(task.completed ? '✅ Görev tamamlandı!' : '⏳ Görev aktif!');
            }
        }

        // Görevi düzenle
        function editTask(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (task) {
                const newText = prompt('Görevi düzenleyin:', task.text);
                if (newText && newText.trim()) {
                    task.text = newText.trim();
                    saveTasks();
                    renderTasks();
                    showToast('✏️ Görev güncellendi!');
                }
            }
        }

        // Görevi sil
        function deleteTask(taskId) {
            if (confirm('Bu görevi silmek istediğinizden emin misiniz?')) {
                tasks = tasks.filter(t => t.id !== taskId);
                saveTasks();
                renderTasks();
                updateStats();
                updateAchievementProgress();
                showToast('🗑️ Görev silindi!');
            }
        }

        // İstatistikleri güncelle
        function updateStats() {
            const totalCount = document.getElementById('total-count');
            const completedCount = document.getElementById('completed-count');
            const pendingCount = document.getElementById('pending-count');
            const totalTime = document.getElementById('total-time');

            totalCount.textContent = tasks.length;
            completedCount.textContent = tasks.filter(t => t.completed).length;
            pendingCount.textContent = tasks.filter(t => !t.completed).length;

            const totalMinutes = tasks.reduce((sum, task) => sum + (task.timeSpent || 0), 0);
            totalTime.textContent = totalMinutes > 0 ? `${Math.floor(totalMinutes / 60)}sa ${totalMinutes % 60}dk` : '0dk';
        }

        // Zaman takibi başlat/durdur
        function trackTime(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (!task) return;

            if (task.isTracking) {
                const now = Date.now();
                const elapsed = Math.floor((now - task.trackingStart) / 1000 / 60);
                task.timeSpent = (task.timeSpent || 0) + elapsed;
                task.isTracking = false;
                task.trackingStart = null;

                showToast(`⏱️ ${elapsed} dakika kaydedildi!`);
            } else {
                task.isTracking = true;
                task.trackingStart = Date.now();
                showToast('⏱️ Zaman takibi başladı!');
            }

            saveTasks();
            renderTasks();
            updateStats();
        }

        // Öncelik metnini al
        function getPriorityText(priority) {
            const priorities = {
                'high': '🔴 Yüksek',
                'medium': '🟡 Orta',
                'low': '🟢 Düşük'
            };
            return priorities[priority] || '🟡 Orta';
        }

        // Tarih formatla
        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = date.getTime() - now.getTime();
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays < 0) {
                return `⏰ ${Math.abs(diffDays)} gün geçti`;
            } else if (diffDays === 0) {
                return 'Bugün';
            } else if (diffDays === 1) {
                return 'Yarın';
            } else {
                return `${diffDays} gün sonra`;
            }
        }

        // Toast mesajı göster
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;

            document.getElementById('toast-container').appendChild(toast);

            setTimeout(() => {
                toast.classList.add('show');
            }, 100);

            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 3000);
        }

        // Kategori ekleme dialog'u
        function showAddCategoryDialog() {
            const categoryName = prompt('Yeni kategori adını girin:');
            if (categoryName && categoryName.trim()) {
                const colors = [
                    '#667eea', '#4caf50', '#ff9800', '#e91e63', '#9c27b0', '#2196f3',
                    '#ff5722', '#795548', '#607d8b', '#3f51b5', '#00bcd4', '#009688',
                    '#8bc34a', '#ffc107', '#ff7043', '#f48fb1', '#ce93d8', '#90caf9'
                ];
                const newCategory = {
                    id: Date.now().toString(),
                    name: categoryName.trim(),
                    color: colors[Math.floor(Math.random() * colors.length)]
                };

                categories.push(newCategory);
                saveCategories();
                renderCategories();
                updateCategorySelect();
                showToast(`✅ "${newCategory.name}" kategorisi eklendi!`);
            }
        }

        // Kategorileri göster
        function renderCategories() {
            const container = document.getElementById('categories-container');
            container.innerHTML = '';

            categories.forEach(category => {
                const categoryElement = document.createElement('div');
                categoryElement.className = 'category-item';
                categoryElement.onclick = () => setCategoryFilter(category.id);

                categoryElement.innerHTML = `
                    <div class="category-color" style="background: ${category.color};"></div>
                    <div class="category-name">${category.name}</div>
                `;

                container.appendChild(categoryElement);
            });
        }

        // Kategori seçimi güncelle
        function updateCategorySelect() {
            const select = document.getElementById('category-select');
            select.innerHTML = '<option value="">📂 Kategori Seçin</option>';

            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                select.appendChild(option);
            });
        }

        // Kategori filtresi
        function setCategoryFilter(categoryId) {
            currentFilter = categoryId;

            // Tüm kategori öğelerini sıfırla
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('active');
            });

            // Seçili kategoriyi aktif yap
            if (categoryId) {
                const activeCategory = document.querySelector(`[onclick="setCategoryFilter('${categoryId}')"]`);
                if (activeCategory) {
                    activeCategory.classList.add('active');
                }
            }

            // Tüm filtre butonlarını sıfırla
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            renderTasks();
            showToast(`📂 ${categories.find(c => c.id === categoryId)?.name || 'Tümü'} kategorisi filtresi aktif!`);
        }

        // Başarımları göster
        function renderAchievements() {
            const container = document.getElementById('achievements-container');
            container.innerHTML = '';

            achievements.forEach(achievement => {
                const achievementElement = document.createElement('div');
                achievementElement.className = `achievement-item ${achievement.unlocked ? 'unlocked' : 'locked'}`;

                const progressPercent = Math.min((achievement.current / achievement.requirement) * 100, 100);

                achievementElement.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-description">${achievement.description}</div>
                    <div class="achievement-progress">
                        <div class="achievement-progress-bar" style="width: ${progressPercent}%"></div>
                    </div>
                    <div class="achievement-status ${achievement.unlocked ? 'unlocked' : 'locked'}">
                        ${achievement.unlocked ? '✅ Açıldı!' : `${achievement.current}/${achievement.requirement}`}
                    </div>
                `;

                container.appendChild(achievementElement);
            });
        }

        // Hızlı işlemler modalını göster
        function showQuickActions() {
            const actions = [
                { icon: '📝', text: 'Yeni Görev Ekle', action: 'focusTaskInput()' },
                { icon: '📂', text: 'Yeni Kategori Ekle', action: 'showAddCategoryDialog()' },
                { icon: '📤', text: 'Verileri Dışa Aktar', action: 'exportTasks()' },
                { icon: '📥', text: 'Verileri İçe Aktar', action: 'importTasks()' },
                { icon: '🧹', text: 'Tamamlananları Temizle', action: 'clearCompletedTasks()' },
                { icon: '📊', text: 'İstatistikleri Görüntüle', action: 'showDetailedStats()' }
            ];

            const modal = createModal('⚡ Hızlı İşlemler', generateQuickActionsHTML(actions));
            modal.classList.add('show');
        }

        // Hızlı işlemler HTML'ini oluştur
        function generateQuickActionsHTML(actions) {
            return `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; padding: 20px;">
                    ${actions.map(action => `
                        <button onclick="${action.action}; hideModal()" style="
                            background: linear-gradient(135deg, #667eea, #764ba2);
                            color: white;
                            border: none;
                            padding: 15px;
                            border-radius: 12px;
                            font-size: 14px;
                            font-weight: 600;
                            cursor: pointer;
                            transition: all 0.3s;
                            display: flex;
                            align-items: center;
                            gap: 8px;
                        " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            ${action.icon} ${action.text}
                        </button>
                    `).join('')}
                </div>
            `;
        }

        // Detaylı istatistikleri göster
        function showDetailedStats() {
            const completedTasks = tasks.filter(t => t.completed).length;
            const pendingTasks = tasks.filter(t => !t.completed).length;
            const totalTime = tasks.reduce((sum, task) => sum + (task.timeSpent || 0), 0);
            const overdueTasks = tasks.filter(t => t.dueDate && new Date(t.dueDate) < new Date() && !t.completed).length;
            const recurringTasks = tasks.filter(t => t.isRecurring).length;

            const statsHTML = `
                <div style="padding: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 20px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 32px; margin-bottom: 10px;">📊</div>
                            <div style="font-size: 24px; font-weight: bold; color: #1976d2;">${tasks.length}</div>
                            <div style="color: #666;">Toplam Görev</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #e8f5e8, #d4edda); padding: 20px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 32px; margin-bottom: 10px;">✅</div>
                            <div style="font-size: 24px; font-weight: bold; color: #388e3c;">${completedTasks}</div>
                            <div style="color: #666;">Tamamlanan</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 20px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 32px; margin-bottom: 10px;">⏱️</div>
                            <div style="font-size: 24px; font-weight: bold; color: #f57c00;">${Math.floor(totalTime / 60)}sa ${totalTime % 60}dk</div>
                            <div style="color: #666;">Toplam Zaman</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #ffebee, #ffcdd2); padding: 20px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 32px; margin-bottom: 10px;">⏰</div>
                            <div style="font-size: 24px; font-weight: bold; color: #d32f2f;">${overdueTasks}</div>
                            <div style="color: #666;">Geciken</div>
                        </div>
                    </div>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 15px;">
                        <h4 style="margin-bottom: 15px; color: #2c3e50;">📈 Detaylı Analiz</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div>
                                <strong>Verimlilik Oranı:</strong>
                                <div style="color: ${completedTasks / Math.max(tasks.length, 1) * 100 > 70 ? '#4caf50' : '#ff9800'}; font-weight: bold;">
                                    ${tasks.length > 0 ? Math.round((completedTasks / tasks.length) * 100) : 0}%
                                </div>
                            </div>
                            <div>
                                <strong>Ortalama Görev Süresi:</strong>
                                <div style="color: #667eea; font-weight: bold;">
                                    ${completedTasks > 0 ? Math.round(totalTime / completedTasks) : 0} dakika
                                </div>
                            </div>
                            <div>
                                <strong>Tekrarlayan Görevler:</strong>
                                <div style="color: #9c27b0; font-weight: bold;">
                                    ${recurringTasks} adet
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            const modal = createModal('📊 Detaylı İstatistikler', statsHTML);
            modal.classList.add('show');
        }

        // Ayarlar modalını göster
        function showSettings() {
            const settingsHTML = `
                <div style="padding: 20px;">
                    <div style="margin-bottom: 25px;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">🎨 Görünüm Ayarları</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                <input type="checkbox" id="compact-mode" onchange="toggleCompactMode()">
                                <span>🌙 Kompakt Mod</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                <input type="checkbox" id="animations" onchange="toggleAnimations()" checked>
                                <span>✨ Animasyonlar</span>
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">💾 Veri Yönetimi</h4>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <button onclick="exportTasks()" style="background: #4caf50; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer;">
                                📤 Tüm Verileri Dışa Aktar
                            </button>
                            <button onclick="importTasks()" style="background: #2196f3; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer;">
                                📥 Veri İçe Aktar
                            </button>
                            <button onclick="clearAllData()" style="background: #f44336; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer;">
                                🗑️ Tüm Veriyi Temizle
                            </button>
                        </div>
                    </div>

                    <div>
                        <h4 style="color: #667eea; margin-bottom: 15px;">📱 Uygulama Bilgileri</h4>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 10px;">
                            <p><strong>Sürüm:</strong> To-Do PRO Ultimate v2.0</p>
                            <p><strong>Geliştirici:</strong> Melih Can Çiğdem</p>
                            <p><strong>Tarih:</strong> ${new Date().toLocaleDateString('tr-TR')}</p>
                            <p><strong>Özellikler:</strong> ${tasks.length} görev, ${categories.length} kategori, ${achievements.filter(a => a.unlocked).length}/${achievements.length} başarım</p>
                        </div>
                    </div>
                </div>
            `;

            const modal = createModal('⚙️ Ayarlar', settingsHTML);
            modal.classList.add('show');
        }

        // Modal oluştur
        function createModal(title, content) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.innerHTML = `
                <div style="
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                    background: rgba(0, 0, 0, 0.8); display: flex; justify-content: center;
                    align-items: center; z-index: 10000; opacity: 0; visibility: hidden;
                    transition: all 0.3s ease;
                " onclick="if(event.target === this) hideModal()">
                    <div style="
                        background: white; padding: 30px; border-radius: 20px;
                        max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;
                        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                    ">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                            <h2 style="color: #2c3e50; margin: 0;">${title}</h2>
                            <button onclick="hideModal()" style="
                                background: none; border: none; font-size: 24px;
                                cursor: pointer; color: #666; padding: 5px;
                            ">✕</button>
                        </div>
                        ${content}
                    </div>
                </div>
            `;

            document.body.appendChild(modal);
            setTimeout(() => {
                modal.style.opacity = '1';
                modal.style.visibility = 'visible';
            }, 10);

            return modal;
        }

        // Modal kapat
        function hideModal() {
            const modal = document.querySelector('.modal');
            if (modal) {
                modal.style.opacity = '0';
                modal.style.visibility = 'hidden';
                setTimeout(() => modal.remove(), 300);
            }
        }

        // AI Asistan aç/kapat
        function toggleAIAssistant() {
            const chat = document.getElementById('ai-chat');
            const toggleBtn = document.getElementById('ai-toggle-btn');

            if (chat.classList.contains('show')) {
                chat.classList.remove('show');
                toggleBtn.classList.remove('active');
            } else {
                chat.classList.add('show');
                toggleBtn.classList.add('active');
            }
        }

        // AI mesajı ekle
        function addAIMessage(text, type) {
            const messages = document.getElementById('ai-chat-messages');
            if (!messages) return;

            const messageDiv = document.createElement('div');
            messageDiv.className = `ai-message ${type}`;

            const now = new Date();
            const time = now.toLocaleTimeString('tr-TR', {
                hour: '2-digit',
                minute: '2-digit'
            });

            messageDiv.innerHTML = `
                <div class="ai-message-avatar">${type === 'user' ? '👤' : '🤖'}</div>
                <div class="ai-message-content">
                    <div class="ai-message-text">${text}</div>
                    <div class="ai-message-time">${time}</div>
                </div>
            `;

            messages.appendChild(messageDiv);
            messages.scrollTop = messages.scrollHeight;
        }

        // AI mesaj gönder (Gelişmiş)
        function sendAIMessage() {
            const input = document.getElementById('ai-input');
            const message = input.value.trim();

            if (message) {
                // Kullanıcı mesajını kaydet
                const userMessage = {
                    type: 'user',
                    text: message,
                    timestamp: new Date().toISOString()
                };

                // Konuşma geçmişini al ve yeni mesajı ekle
                const history = getConversationHistory();
                history.push(userMessage);
                saveConversationHistory(history);

                addAIMessage(message, 'user');
                input.value = '';

                // AI yanıtı üret ve kaydet
                setTimeout(() => {
                    const response = generateAIResponse(message);
                    addAIMessage(response, 'ai');

                    // AI yanıtını geçmişe kaydet
                    const aiMessage = {
                        type: 'ai',
                        text: response,
                        timestamp: new Date().toISOString()
                    };
                    history.push(aiMessage);
                    saveConversationHistory(history);
                }, 1000 + Math.random() * 1000); // 1-2 saniye rastgele gecikme
            }
        }

        // AI klavye tuşu
        function handleAIKeyPress(event) {
            if (event.key === 'Enter') {
                sendAIMessage();
            }
        }

        // AI yanıtları üret (Gelişmiş)
        function generateAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            const words = message.toLowerCase().split(' ');

            // Konuşma geçmişini kontrol et
            const conversationHistory = getConversationHistory();

            // Daha akıllı yanıtlar için bağlam analizi
            if (lowerMessage.includes('merhaba') || lowerMessage.includes('selam') || lowerMessage.includes('hi')) {
                return 'Merhaba! 👋 Ben To-Do PRO Ultimate\'ın akıllı asistanıyım. Size nasıl yardımcı olabilirim? Görev yönetimi, kategoriler, zaman takibi, başarımlar veya diğer özellikler hakkında soru sorabilirsiniz.';
            }

            // Görev ekleme hakkında
            if (lowerMessage.includes('görev') && (lowerMessage.includes('ekle') || lowerMessage.includes('yeni') || lowerMessage.includes('oluştur'))) {
                return '📝 Yeni görev eklemek için: 1) Üst kısımdaki input alanına görev metnini yazın, 2) Öncelik seviyesi seçin (🔴 Yüksek/🟡 Orta/🟢 Düşük), 3) İsteğe bağlı kategori seçin, 4) Bitiş tarihi belirleyin, 5) "EKLE" butonuna basın veya Enter\'a basın. Tekrarlayan görevler için checkbox\'ı işaretleyin!';
            }

            // Zaman takibi hakkında
            if (lowerMessage.includes('zaman') || lowerMessage.includes('takip') || lowerMessage.includes('saat')) {
                return '⏱️ Zaman takibi için: Göreve ⏱️ butonuna tıklayarak zaman takibi başlatın. Yeşil animasyonlu buton aktif olduğunu gösterir. Tekrar ⏱️ butonuna tıklayarak zamanı kaydedin. Toplam süre istatistiklerde gösterilir.';
            }

            // Kategoriler hakkında
            if (lowerMessage.includes('kategori') || lowerMessage.includes('grup')) {
                return '📂 Kategoriler görevlerinizi organize etmenizi sağlar. "+" butonuna tıklayarak yeni kategori ekleyebilirsiniz. 18 farklı renk seçeneği mevcut. Kategoriye tıklayarak o kategorideki görevleri filtreleyebilirsiniz.';
            }

            // Başarımlar hakkında
            if (lowerMessage.includes('başarım') || lowerMessage.includes('ödül') || lowerMessage.includes('achievement')) {
                return '🏆 Başarımlarınızı görmek için sayfanın alt kısmındaki "Başarımlar" bölümüne bakın. Şu anda 12 farklı başarım mevcut: İlk Görev, Görev Ustası, Zaman Ustası, Kategori Kralı, Mükemmeliyetçi, Çizgi Ustası, Tekrar Ustası, Erken Kuş, Gece Kuşu, Hızlı Adam, Veri Toplayıcı ve Sosyal Kelebek!';
            }

            // Tema hakkında
            if (lowerMessage.includes('tema') || lowerMessage.includes('renk') || lowerMessage.includes('görünüm')) {
                return '🎨 Tema değiştirmek için sağ üst köşedeki 🎨 butonuna tıklayın. 8 farklı tema seçeneği mevcut: Okyanus, Orman, Gün Batımı, Gül, Mor, Gece Yarısı, Siber. Her tema farklı renk paleti ve atmosfer sunar.';
            }

            // Filtreleme hakkında
            if (lowerMessage.includes('filtre') || lowerMessage.includes('göster') || lowerMessage.includes('listele')) {
                return '🔍 Filtreleme için üst kısımdaki butonları kullanın: Tümü, Bekleyen, Tamamlanan, Yüksek/Medium/Düşük Öncelik, Geciken. Ayrıca kategoriye tıklayarak o kategorideki görevleri de filtreleyebilirsiniz.';
            }

            // Tekrarlayan görevler hakkında
            if (lowerMessage.includes('tekrar') || lowerMessage.includes('yinelenen') || lowerMessage.includes('periyodik')) {
                return '🔄 Tekrarlayan görevler oluşturmak için: Görev eklerken "Tekrarlayan görev" seçeneğini işaretleyin, tekrar türünü seçin (Günlük/Haftalık/Aylık) ve kaç kez tekrarlayacağını belirleyin. Sistem otomatik olarak görevleri oluşturur.';
            }

            // Veri saklama hakkında
            if (lowerMessage.includes('veri') || lowerMessage.includes('saklama') || lowerMessage.includes('yedek')) {
                return '💾 Tüm verileriniz tarayıcıda yerel olarak saklanır (LocalStorage). İnternet bağlantısı olmadan da çalışır. Veriler otomatik olarak kaydedilir ve senkronize edilir. Güvenli ve hızlı!';
            }

            // Mobil hakkında
            if (lowerMessage.includes('mobil') || lowerMessage.includes('telefon') || lowerMessage.includes('uygulama')) {
                return '📱 Uygulama tamamen mobil uyumludur. Sağ üstteki 📱 butonuna tıklayarak mobil görünümüne geçebilirsiniz. Tüm butonlar 48px minimum boyutta ve dokunmatik kullanım için optimize edildi. Touch-first tasarım!';
            }

            // Özellikler hakkında
            if (lowerMessage.includes('özellik') || lowerMessage.includes('ne yapar') || lowerMessage.includes('nasıl çalışır')) {
                return '🚀 To-Do PRO Ultimate şu özelliklere sahiptir: Görev yönetimi, öncelik atama, kategori sistemi, zaman takibi, tekrarlayan görevler, başarım sistemi, AI asistan, tema değiştirme, mobil optimizasyon, gelişmiş filtreleme ve çok daha fazlası!';
            }

            // Yardım hakkında
            if (lowerMessage.includes('yardım') || lowerMessage.includes('destek') || lowerMessage.includes('sorun')) {
                return '❓ Detaylı yardım için sağ üst köşedeki mavi "?" butonuna tıklayın. Orada tüm özellikler adım adım açıklanmış. Ayrıca bu sohbeti kullanarak da sorularınızı sorabilirsiniz!';
            }

            // Teşekkür veya olumlu ifadeler
            if (lowerMessage.includes('teşekkür') || lowerMessage.includes('sağol') || lowerMessage.includes('güzel') || lowerMessage.includes('harika')) {
                return '😊 Rica ederim! Başka nasıl yardımcı olabilirim? Görev yönetimi, özellikler veya herhangi bir konuda soru sorun.';
            }

            // Kısa yanıtlar için
            if (message.length < 10) {
                return '🤔 Bu konuda daha fazla detay verebilir misiniz? Size en iyi şekilde yardımcı olmak istiyorum.';
            }

            // Uzun mesajlar için
            if (words.length > 15) {
                return '📝 Anlıyorum ki detaylı bir soru sordunuz. Size en iyi şekilde yardımcı olmak için lütfen spesifik bir konu seçin: görev ekleme, zaman takibi, kategoriler, başarımlar veya diğer özellikler.';
            }

            // Genel yanıt
            return `🤖 "${message}" hakkında size yardımcı olmaya çalışayım. To-Do PRO Ultimate ile ilgili sorularınızı şöyle kategorilere ayırabilirim:

• 📝 Görev Yönetimi (ekleme, düzenleme, silme)
• ⏱️ Zaman Takibi (süre ölçümü, verimlilik)
• 📂 Kategoriler (organizasyon, gruplandırma)
• 🏆 Başarımlar (ödüller, ilerleme)
• 🎨 Temalar (görünüm, renkler)
• 📱 Mobil Kullanım (dokunmatik, responsive)

Hangi konuda daha fazla bilgi istiyorsunuz?`;
        }

        // Konuşma geçmişini al
        function getConversationHistory() {
            try {
                const history = localStorage.getItem('todo_pro_chat_history');
                return history ? JSON.parse(history) : [];
            } catch (e) {
                return [];
            }
        }

        // Konuşma geçmişini kaydet
        function saveConversationHistory(history) {
            try {
                localStorage.setItem('todo_pro_chat_history', JSON.stringify(history.slice(-50))); // Son 50 mesajı tut
            } catch (e) {
                console.error('Konuşma geçmişi kaydedilemedi:', e);
            }
        }

        // Konuşma geçmişini temizle
        function clearChatHistory() {
            if (confirm('Konuşma geçmişini temizlemek istediğinizden emin misiniz?')) {
                localStorage.removeItem('todo_pro_chat_history');
                document.getElementById('ai-chat-messages').innerHTML = `
                    <div class="ai-message ai-welcome">
                        <div class="ai-message-avatar">🤖</div>
                        <div class="ai-message-content">
                            <div class="ai-message-text">Konuşma geçmişi temizlendi! Yeni bir başlangıç yapalım. 👋</div>
                            <div class="ai-message-time">Şimdi</div>
                        </div>
                    </div>
                `;
                showToast('💬 Konuşma geçmişi temizlendi!');
            }
        }

        // Konuşma geçmişini dışa aktar
        function exportChatHistory() {
            const history = getConversationHistory();
            if (history.length === 0) {
                showToast('📤 Dışa aktarılacak konuşma geçmişi bulunamadı!');
                return;
            }

            const chatText = history.map(msg => {
                const time = new Date(msg.timestamp).toLocaleString('tr-TR');
                const type = msg.type === 'user' ? '👤 Siz' : '🤖 AI';
                return `[${time}] ${type}: ${msg.text}`;
            }).join('\n\n');

            const blob = new Blob([chatText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);

            const link = document.createElement('a');
            link.href = url;
            link.download = `todo-pro-chat-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showToast('📤 Konuşma geçmişi dışa aktarıldı!');
        }

        // Yardım modalını göster
        function showHelpModal() {
            const modal = document.getElementById('help-modal');
            modal.classList.add('show');
        }

        // Yardım modalını kapat
        function hideHelpModal() {
            const modal = document.getElementById('help-modal');
            modal.classList.remove('show');
        }

        // Görevleri dışa aktar
        function exportTasks() {
            const dataToExport = {
                tasks: tasks,
                categories: categories,
                achievements: achievements,
                exportDate: new Date().toISOString(),
                version: '2.0'
            };

            const dataStr = JSON.stringify(dataToExport, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });

            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `todo-pro-backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showToast('📤 Tüm veriler dışa aktarıldı!');
        }

        // Görevleri içe aktar
        function importTasks() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const importedData = JSON.parse(e.target.result);

                            if (importedData.tasks && importedData.categories && importedData.achievements) {
                                if (confirm('Mevcut veriler üzerine yazmak istediğinizden emin misiniz?')) {
                                    tasks = importedData.tasks;
                                    categories = importedData.categories;
                                    achievements = importedData.achievements;

                                    saveTasks();
                                    saveCategories();
                                    saveAchievements();
                                    renderTasks();
                                    renderCategories();
                                    renderAchievements();
                                    updateStats();
                                    updateCategorySelect();

                                    showToast('✅ Veri başarıyla içe aktarıldı!');
                                }
                            } else {
                                showToast('❌ Geçersiz dosya formatı!');
                            }
                        } catch (error) {
                            showToast('❌ Dosya okunamadı!');
                            console.error('İçe aktarma hatası:', error);
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }

        // Başarım ilerlemesini güncelle
        function updateAchievementProgress() {
            const completedTasks = tasks.filter(t => t.completed).length;
            const totalTime = tasks.reduce((sum, task) => sum + (task.timeSpent || 0), 0);
            const highPriorityCompleted = tasks.filter(t => t.completed && t.priority === 'high').length;
            const categoryCount = categories.length;
            const recurringCount = tasks.filter(t => t.isRecurring).length;

            // Başarım güncellemeleri
            achievements.find(a => a.id === 'first_task').current = completedTasks > 0 ? 1 : 0;
            achievements.find(a => a.id === 'task_master').current = completedTasks;
            achievements.find(a => a.id === 'time_tracker').current = totalTime;
            achievements.find(a => a.id === 'category_king').current = categoryCount;
            achievements.find(a => a.id === 'perfectionist').current = highPriorityCompleted;
            achievements.find(a => a.id === 'recurring_master').current = recurringCount;

            // Başarım kilidini aç
            achievements.forEach(achievement => {
                if (!achievement.unlocked && achievement.current >= achievement.requirement) {
                    achievement.unlocked = true;
                    showToast(`🏆 Yeni başarım: ${achievement.name}!`);
                }
            });

            saveAchievements();
            renderAchievements();
        }

        // Task input'a odaklan
        function focusTaskInput() {
            document.getElementById('task-input').focus();
        }

        // Tamamlanan görevleri temizle
        function clearCompletedTasks() {
            if (confirm('Tamamlanan tüm görevleri silmek istediğinizden emin misiniz?')) {
                tasks = tasks.filter(t => !t.completed);
                saveTasks();
                renderTasks();
                updateStats();
                updateAchievementProgress();
                showToast('✅ Tamamlanan görevler temizlendi!');
            }
        }

        // Tüm veriyi temizle
        function clearAllData() {
            if (confirm('TÜM verileri silmek istediğinizden emin misiniz? Bu işlem geri alınamaz!')) {
                tasks = [];
                categories = [];
                achievements = [];
                localStorage.clear();
                renderTasks();
                renderCategories();
                renderAchievements();
                updateStats();
                showToast('🗑️ Tüm veriler temizlendi!');
            }
        }

        // Kompakt modu aç/kapat
        function toggleCompactMode() {
            document.body.classList.toggle('compact-mode');
            const isCompact = document.body.classList.contains('compact-mode');
            showToast(isCompact ? '🌙 Kompakt mod aktif!' : '☀️ Normal mod aktif!');
        }

        // Animasyonları aç/kapat
        function toggleAnimations() {
            document.body.classList.toggle('no-animations');
            const hasAnimations = !document.body.classList.contains('no-animations');
            showToast(hasAnimations ? '✨ Animasyonlar aktif!' : '🚫 Animasyonlar kapalı!');
        }

        // Uygulama başlatma
        function initApp() {
            loadTasks();
            loadCategories();
            loadAchievements();
            loadTheme();
            initializeViewMode();
            setupEventListeners();
            renderTasks();
            renderCategories();
            renderAchievements();
            updateStats();
            updateCategorySelect();

            // Başlangıç animasyonu
            setTimeout(() => {
                document.querySelector('.app-header h1').style.transform = 'scale(1.05)';
                setTimeout(() => {
                    document.querySelector('.app-header h1').style.transform = 'scale(1)';
                }, 200);
            }, 500);

            console.log('🚀 To-Do PRO Ultimate başarıyla yüklendi!');
        }

        // Sayfa yüklendiğinde uygulamayı başlat
        document.addEventListener('DOMContentLoaded', initApp);
